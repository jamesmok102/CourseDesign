"use strict";(self["webpackChunkminishop"]=self["webpackChunkminishop"]||[]).push([[5477],{5477:function(e,l,a){a.r(l),a.d(l,{default:function(){return Z}});var t=a(6252),n=a(3043),u=a(4719),d=a(386),i=a(7695),o=a(7563),m=a(5911),r=a(7742),s=a(9357),c=a(7737),p=a(2482),h=a(8677);const V=(0,t.Uk)("商品增加"),f=(0,t.Uk)(" 在此可以增加商品信息"),w=(0,t._)("br",null,null,-1),v=(0,t.Uk)(" 注意：想要增加商品图片，在增加商品后在编辑介面进行 "),k=(0,t.Uk)("mdi-account-plus"),W=(0,t.Uk)(" 增加商品 "),U=(0,t.Uk)("增加成功"),_=(0,t.Uk)("增加失败");function b(e,l,a,b,g,y){return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(d._,{style:{height:"200px"},color:"#4480A6"},{default:(0,t.w5)((()=>[(0,t.Wm)(i.E,{class:"text-h4 font-weight-black text-white mt-6 ml-4"},{default:(0,t.w5)((()=>[V])),_:1}),(0,t.Wm)(o.Q,{class:"text-h6 font-weight-black text-white mt-4 ml-4"},{default:(0,t.w5)((()=>[f,w,v])),_:1}),(0,t.Wm)(m.Z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u.T,{color:"#263F73",class:"font-weight-black text-white mt-2 ml-4",plain:"",onClick:b.validate},{default:(0,t.w5)((()=>[(0,t.Wm)(c.t,null,{default:(0,t.w5)((()=>[k])),_:1}),W])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,t.Wm)(d._,{class:"mt-6"},{default:(0,t.w5)((()=>[(0,t.Wm)(s.O,{modelValue:b.valid,"onUpdate:modelValue":l[5]||(l[5]=e=>b.valid=e),"lazy-validation":"",class:"ma-6"},{default:(0,t.w5)((()=>[(0,t.Wm)(h.h,{modelValue:e.name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.name=l),counter:10,rules:b.nameRules,label:"Name",required:""},null,8,["modelValue","rules"]),(0,t.Wm)(h.h,{modelValue:e.intro,"onUpdate:modelValue":l[1]||(l[1]=l=>e.intro=l),label:"Intro",required:""},null,8,["modelValue"]),(0,t.Wm)(h.h,{modelValue:e.price,"onUpdate:modelValue":l[2]||(l[2]=l=>e.price=l),label:"Price",required:""},null,8,["modelValue"]),(0,t.Wm)(h.h,{modelValue:e.count,"onUpdate:modelValue":l[3]||(l[3]=l=>e.count=l),label:"Count",required:""},null,8,["modelValue"]),(0,t.Wm)(n.f,{modelValue:e.category,"onUpdate:modelValue":l[4]||(l[4]=l=>e.category=l),items:b.items,dense:"",filled:"",label:"Filled"},null,8,["modelValue","items"]),(0,t.Wm)(r.Z,{label:"File input",filled:"","prepend-icon":"mdi-camera","show-size":"",chips:"",id:"input"})])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(p.v,{modelValue:b.insertSuccess,"onUpdate:modelValue":l[6]||(l[6]=e=>b.insertSuccess=e)},{default:(0,t.w5)((()=>[U])),_:1},8,["modelValue"]),(0,t.Wm)(p.v,{modelValue:b.insertFailed,"onUpdate:modelValue":l[7]||(l[7]=e=>b.insertFailed=e)},{default:(0,t.w5)((()=>[_])),_:1},8,["modelValue"])],64)}var g=a(2262),y=a(7309),F=a(248),q=a(4239),x={name:"salerInsertGood",setup(){let e=(0,g.iH)(!1),l=(0,g.iH)(!1),a=(0,g.iH)([]),n=(0,g.qj)({name:"",category:"",intro:"",price:"",count:""}),u=!0,d=[e=>!!e||"Name is required",e=>e&&e.length<=10||"Name must be less than 10 characters"],i={};const o=()=>{(0,y.VP)().then((e=>{e.data.forEach(((e,l)=>{a.value.push(e.item),i[e.item]=e.id}))}))};(0,t.bv)((()=>{o()}));const m=()=>{let a=new window.FormData;a.append("name",n.name),a.append("category_id",i[n.category]),a.append("intro",n.intro),a.append("pic",document.getElementById("input").files[0]),a.append("price",n.price),a.append("count",n.count),a.append("saler_id",q.Z.state.saler.id),(0,F.rJ)(a).then((a=>{let t=a.data.status;1===t?(e.value=!0,setTimeout((()=>{e.value=!1}),1e3)):(l.value=!0,setTimeout((()=>{l.value=!1}),1e3)),n.name="",n.category="",n.intro=""}))};return{insertSuccess:e,insertFailed:l,...(0,g.BK)(n),valid:u,nameRules:d,validate:m,items:a}}},C=a(3744);const H=(0,C.Z)(x,[["render",b]]);var Z=H}}]);
//# sourceMappingURL=5477.375402b4.js.map