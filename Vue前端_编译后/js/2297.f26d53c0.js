"use strict";(self["webpackChunkminishop"]=self["webpackChunkminishop"]||[]).push([[2297],{753:function(e,t,a){a.d(t,{DW:function(){return l},Kr:function(){return d},PO:function(){return r},Pk:function(){return s},Q2:function(){return u},R4:function(){return o},Zr:function(){return i}});var n=a(9496);function u(e){return(0,n.W)({url:`/admin/salers/${e}`,method:"get"})}function l(e){return(0,n.W)({url:`/admin/salers/${e}`,method:"delete"})}function r(e){return(0,n.W)({url:"/admin/salers/batchDelete",method:"delete",headers:{"content-type":"application/json"},data:JSON.stringify(e)})}function d(e){return(0,n.W)({url:"/admin/salers/insertSaler",method:"post",headers:{"content-type":"multipart/form-data"},data:e})}function o(e){return(0,n.W)({url:`/admin/saler_id/${e}`,method:"get"})}function i(e){return(0,n.W)({url:"/admin/updateSaler",method:"post",headers:{"content-type":"application/json"},data:JSON.stringify(e)})}function s(e){return(0,n.W)({url:"/admin/updateSalerImg",method:"post",headers:{"content-type":"multipart/form-data"},data:e})}},7989:function(e,t,a){a.d(t,{GA:function(){return i},IR:function(){return o},JS:function(){return d},LY:function(){return s},Nq:function(){return m},OO:function(){return p},PR:function(){return r},Ve:function(){return c},_Y:function(){return u},js:function(){return l},vu:function(){return f}});var n=a(9496);function u(e){return(0,n.W)({url:"/saler/user/insertUser",method:"post",headers:{"content-type":"multipart/form-data"},data:e})}function l(e){return(0,n.W)({url:"/user/user/insertUser",method:"post",headers:{"content-type":"multipart/form-data"},data:e})}function r(e){return(0,n.W)({url:`/saler/user/${e}`,method:"get"})}function d(e){return(0,n.W)({url:`/saler/user/${e}`,method:"delete"})}function o(e){return(0,n.W)({url:"/saler/user/batchDelete",method:"delete",headers:{"content-type":"application/json"},data:JSON.stringify(e)})}function i(e){return(0,n.W)({url:`/saler/user_id/${e}`,method:"get"})}function s(e){return(0,n.W)({url:`/userislogin/user_id/${e}`,method:"get"})}function m(e){return(0,n.W)({url:"/saler/updateUser",method:"post",headers:{"content-type":"application/json"},data:JSON.stringify(e)})}function c(e){return(0,n.W)({url:"/saler/updateUserImg",method:"post",headers:{"content-type":"multipart/form-data"},data:e})}function p(e){return(0,n.W)({url:"/userislogin/updateUser",method:"post",headers:{"content-type":"application/json"},data:JSON.stringify(e)})}function f(e){return(0,n.W)({url:"/userislogin/updateUserImg",method:"post",headers:{"content-type":"multipart/form-data"},data:e})}},7664:function(e,t,a){a.r(t),a.d(t,{default:function(){return j}});var n=a(6252),u=a(2139),l=a(4719),r=a(386),d=a(7695),o=a(7563),i=a(5911),s=a(7742),m=a(7737),c=a(7074),p=a(2482),f=a(8677);const h=(0,n.Uk)("用户更新"),W=(0,n.Uk)(" 在此可以增加用户信息"),g=(0,n._)("br",null,null,-1),w=(0,n.Uk)(" 注意：想要增加用户图片，在增加商品后在编辑介面进行 "),V=(0,n.Uk)("mdi-account-plus"),v=(0,n.Uk)(" 更新用户 "),U=(0,n.Uk)("更新成功"),y=(0,n.Uk)("更新失败");function b(e,t,a,b,k,_){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r._,{style:{height:"200px"},color:"#4480A6"},{default:(0,n.w5)((()=>[(0,n.Wm)(d.E,{class:"text-h4 font-weight-black text-white mt-6 ml-4"},{default:(0,n.w5)((()=>[h])),_:1}),(0,n.Wm)(o.Q,{class:"text-h6 font-weight-black text-white mt-4 ml-4"},{default:(0,n.w5)((()=>[W,g,w])),_:1}),(0,n.Wm)(i.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l.T,{color:"#263F73",class:"font-weight-black text-white mt-2 ml-4",plain:"",onClick:b.validate},{default:(0,n.w5)((()=>[(0,n.Wm)(m.t,null,{default:(0,n.w5)((()=>[V])),_:1}),v])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,n.Wm)(r._,{class:"mt-6"},{default:(0,n.w5)((()=>[(0,n.Wm)(f.h,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),counter:10,rules:b.nameRules,label:"Name",required:""},null,8,["modelValue","rules"]),(0,n.Wm)(f.h,{modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t),rules:b.emailRules,label:"E-mail",required:""},null,8,["modelValue","rules"]),(0,n.Wm)(f.h,{modelValue:e.password,"onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t),rules:b.passwordRules,label:"Password",required:""},null,8,["modelValue","rules"]),(0,n.Wm)(f.h,{modelValue:e.phone,"onUpdate:modelValue":t[3]||(t[3]=t=>e.phone=t),rules:b.phoneRules,label:"Phone",required:""},null,8,["modelValue","rules"]),(0,n.Wm)(f.h,{modelValue:e.area,"onUpdate:modelValue":t[4]||(t[4]=t=>e.area=t),label:"Area",required:""},null,8,["modelValue"]),(0,n.Wm)(f.h,{modelValue:e.age,"onUpdate:modelValue":t[5]||(t[5]=t=>e.age=t),label:"Age",required:""},null,8,["modelValue"]),(0,n.Wm)(s.Z,{label:"File input",filled:"","prepend-icon":"mdi-camera","show-size":"",chips:"",id:"input"}),(0,n.Wm)(u.V,{size:"50px"},{default:(0,n.w5)((()=>[(0,n.Wm)(c.f,{alt:"Avatar",src:"http://1.12.253.71:8081/queryUserImg/"+e.id,id:"avatar"},null,8,["src"])])),_:1})])),_:1}),(0,n.Wm)(p.v,{modelValue:b.updateSuccess,"onUpdate:modelValue":t[6]||(t[6]=e=>b.updateSuccess=e)},{default:(0,n.w5)((()=>[U])),_:1},8,["modelValue"]),(0,n.Wm)(p.v,{modelValue:b.updateFailed,"onUpdate:modelValue":t[7]||(t[7]=e=>b.updateFailed=e)},{default:(0,n.w5)((()=>[y])),_:1},8,["modelValue"])],64)}var k=a(2262),_=a(2119),q=(a(753),a(7989)),N={name:"salerEditUser",setup(){let e=(0,_.yj)(),t=(0,k.iH)(!1),a=(0,k.iH)(!1),u=(0,k.qj)({id:"",name:"",email:"",password:"",phone:"",area:"",age:""});u.id=e.query.id;let l=!0,r=[e=>!!e||"Name is required",e=>e&&e.length<=10||"Name must be less than 10 characters"],d=[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],o=[e=>!!e||"E-mail is required"],i=[e=>!!e||"Name is required",e=>e&&11!==e.length||"Name must be less than 10 characters"];const s=()=>{(0,q.Nq)(u).then((e=>{let n=e.data.status;if(n>=1){if(null==document.getElementById("input").files[0])return t.value=!0,void setTimeout((()=>{t.value=!1}),1e3);let e=new window.FormData;e.append("fileid",u.id),e.append("file",document.getElementById("input").files[0]),(0,q.Ve)(e).then((e=>{let n=e.data.status;1===n?(t.value=!0,setTimeout((()=>{t.value=!1}),1e3)):(a.value=!0,setTimeout((()=>{a.value=!1}),1e3))}))}else a.value=!0,setTimeout((()=>{a.value=!1}),1e3)}))},m=()=>{(0,q.GA)(u.id).then((e=>{u.name=e.data.name,u.email=e.data.email,u.password=e.data.password,u.phone=e.data.phone,u.area=e.data.area,u.age=e.data.age}))};return(0,n.bv)((()=>{m()})),{valid:l,nameRules:r,emailRules:d,passwordRules:o,phoneRules:i,...(0,k.BK)(u),validate:s,updateSuccess:t,updateFailed:a}}},S=a(3744);const R=(0,S.Z)(N,[["render",b]]);var j=R}}]);
//# sourceMappingURL=2297.f26d53c0.js.map