{"version":3,"file":"js/3741.8ae5c62f.js","mappings":"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","sources":["webpack://minishop/./network/saler.js","webpack://minishop/./src/views/back/admin/adminEditSaler.vue","webpack://minishop/./src/views/back/admin/adminEditSaler.vue?ee87","webpack://minishop/./node_modules/vuetify/lib/components/VForm/VForm.mjs"],"sourcesContent":["import {request} from \"./request\";\r\n\r\nexport function getSalers(page) {\r\n    return request({\r\n        url:`/admin/salers/${page}`,\r\n        method:'get',\r\n    })\r\n}\r\n\r\nexport function deleteSalersById(id) {\r\n    return request({\r\n        url:`/admin/salers/${id}`,\r\n        method:'delete',\r\n    })\r\n}\r\n\r\nexport function betchDeleteSalersById(data) {\r\n    return request({\r\n        url:'/admin/salers/batchDelete',\r\n        method:'delete',\r\n        headers: {'content-type': 'application/json'},\r\n        data: JSON.stringify(data)\r\n    })\r\n}\r\n\r\nexport function insertSaler(data) {\r\n    return request({\r\n        url:'/admin/salers/insertSaler',\r\n        method:'post',\r\n        headers: {'content-type': 'multipart/form-data'},\r\n        data\r\n    })\r\n}\r\n\r\nexport function getSalerById(id) {\r\n    return request({\r\n        url:`/admin/saler_id/${id}`,\r\n        method:'get',\r\n    })\r\n}\r\n\r\nexport function getSalerById_forSaler(id) {\r\n    return request({\r\n        url:`/saler/saler_id/${id}`,\r\n        method:'get',\r\n    })\r\n}\r\n\r\nexport function updateSaler(data) {\r\n    return request({\r\n        url:'/admin/updateSaler',\r\n        method:'post',\r\n        headers: {'content-type': 'application/json'},\r\n        data: JSON.stringify(data)\r\n    })\r\n}\r\n\r\nexport function uploadSalerImg(data) {\r\n    return request({\r\n        url:'/admin/updateSalerImg',\r\n        method:'post',\r\n        headers: {'content-type': 'multipart/form-data'},\r\n        data\r\n    })\r\n}\r\n\r\n\r\n\r\n","<template>\r\n  <v-card style=\"height: 200px;\" color=\"#1F8A70\">\r\n    <v-card-title class=\"text-h4 font-weight-black text-white mt-6 ml-4\">销售人员更新</v-card-title>\r\n    <v-card-subtitle class=\"text-h6 font-weight-black text-white mt-4 ml-4\">\r\n      在此可以编辑销售人员的各种信息<br>\r\n      注意：上传图片后请刷新网页\r\n    </v-card-subtitle>\r\n    <v-card-text>\r\n      <v-btn\r\n          color=\"#004358\"\r\n          class=\"font-weight-black text-white mt-2 ml-4\"\r\n          plain\r\n          @click=\"validate\"\r\n      >\r\n        <v-icon>mdi-account-plus</v-icon>\r\n        更新成员\r\n      </v-btn>\r\n<!--      <v-btn-->\r\n<!--          color=\"#004358\"-->\r\n<!--          class=\"font-weight-black text-white mt-2 ml-4\"-->\r\n<!--          plain-->\r\n<!--          @click=\"submitFiles\"-->\r\n<!--      >-->\r\n<!--        <v-icon>mdi-account-plus</v-icon>-->\r\n<!--        上传图片-->\r\n<!--      </v-btn>-->\r\n    </v-card-text>\r\n  </v-card>\r\n  <v-card class=\"mt-6\">\r\n    <v-form\r\n        v-model=\"valid\"\r\n        lazy-validation\r\n        class=\"ma-6\"\r\n    >\r\n      <v-text-field\r\n          v-model=\"name\"\r\n          :counter=\"10\"\r\n          :rules=\"nameRules\"\r\n          label=\"Name\"\r\n          required\r\n      ></v-text-field>\r\n      <v-text-field\r\n          v-model=\"email\"\r\n          :rules=\"emailRules\"\r\n          label=\"E-mail\"\r\n          required\r\n      ></v-text-field>\r\n      <v-text-field\r\n          v-model=\"password\"\r\n          :rules=\"passwordRules\"\r\n          label=\"Password\"\r\n          required\r\n      ></v-text-field>\r\n      <v-text-field\r\n          v-model=\"phone\"\r\n          :rules=\"phoneRules\"\r\n          label=\"Phone\"\r\n          required\r\n      ></v-text-field>\r\n      <v-file-input\r\n          label=\"File input\"\r\n          filled\r\n          prepend-icon=\"mdi-camera\"\r\n          show-size\r\n          chips\r\n          id=\"input\"\r\n      ></v-file-input>\r\n      <v-avatar\r\n          size=\"50px\"\r\n      >\r\n        <v-img\r\n            alt=\"Avatar\"\r\n            :src=\"'http://1.12.253.71:8081/querySalerImg/'+ id\"\r\n            id=\"avatar\"\r\n        ></v-img>\r\n      </v-avatar>\r\n    </v-form>\r\n\r\n\r\n  </v-card>\r\n  <v-snackbar v-model=\"updateSuccess\">更新成功</v-snackbar>\r\n  <v-snackbar v-model=\"updateFailed\">更新失败</v-snackbar>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {onMounted, ref, watch, toRefs, reactive} from \"vue\";\r\nimport {insertSaler, getSalerById, updateSaler, uploadSalerImg, testimg} from \"../../../../network/saler\";\r\nimport {useRoute} from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"adminEditSaler\",\r\n  setup() {\r\n\r\n    let route = useRoute();\r\n    let updateSuccess = ref(false);\r\n    let updateFailed = ref(false);\r\n\r\n    let img;\r\n\r\n    let form = reactive({\r\n      id: \"\",\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      phone: \"\",\r\n    })\r\n\r\n    form.id = route.query.id;\r\n\r\n    let valid = true\r\n    let nameRules = [\r\n      v => !!v || 'Name is required',\r\n      v => (v && v.length <= 10) || 'Name must be less than 10 characters',\r\n    ]\r\n    let emailRules = [\r\n      v => !!v || 'E-mail is required',\r\n      v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\r\n    ]\r\n    let passwordRules = [\r\n      v => !!v || 'E-mail is required',\r\n    ]\r\n    let phoneRules = [\r\n      v => !!v || 'Name is required',\r\n      v => (v && v.length !== 11) || 'Name must be less than 10 characters',\r\n    ]\r\n\r\n    // const submitFiles = () => {\r\n    //   console.log(document.getElementById(\"input\").files[0]);\r\n    //   let formData = new window.FormData();\r\n    //   formData.append(\"fileid\", form.id)\r\n    //   formData.append(\"file\", document.getElementById(\"input\").files[0])\r\n    //   uploadSalerImg(formData).then(res=>{\r\n    //     console.log(res);\r\n    //   })\r\n    // }\r\n\r\n    const validate = () => {\r\n      updateSaler(form).then(res=>{\r\n        let status = res.data.status\r\n        if (status >= 1) {\r\n\r\n          if (document.getElementById(\"input\").files[0] == null) {\r\n            updateSuccess.value = true\r\n            setTimeout(()=>{\r\n              updateSuccess.value = false\r\n            },1000)\r\n            return\r\n          }\r\n\r\n          let formData = new window.FormData();\r\n          formData.append(\"fileid\", form.id)\r\n          formData.append(\"file\", document.getElementById(\"input\").files[0])\r\n          uploadSalerImg(formData).then(res=>{\r\n            let imgStatus = res.data.status;\r\n            if (imgStatus === 1) {\r\n              updateSuccess.value = true\r\n              setTimeout(()=>{\r\n                updateSuccess.value = false\r\n              },1000)\r\n            } else {\r\n              updateFailed.value = true\r\n              setTimeout(()=>{\r\n                updateFailed.value = false\r\n              },1000)\r\n            }\r\n          })\r\n\r\n          updateSuccess.value = true\r\n          setTimeout(()=>{\r\n            updateSuccess.value = false\r\n          },1000)\r\n        } else {\r\n          updateFailed.value = true\r\n          setTimeout(()=>{\r\n            updateFailed.value = false\r\n          },1000)\r\n        }\r\n        init()\r\n      })\r\n    }\r\n\r\n    const init = () => {\r\n      getSalerById(form.id).then(res=>{\r\n        form.name = res.data.name\r\n        form.email = res.data.email\r\n        form.password = res.data.password\r\n        form.phone = res.data.phone\r\n      })\r\n      img = \"http://localhost:8081/updateSalerImg/\" + form.id\r\n\r\n    }\r\n\r\n    onMounted(()=>{\r\n      init()\r\n    })\r\n\r\n    return {\r\n      valid,\r\n      nameRules,\r\n      emailRules,\r\n      passwordRules,\r\n      phoneRules,\r\n      ...toRefs(form),\r\n      validate,\r\n      updateSuccess,\r\n      updateFailed,\r\n      //submitFiles,\r\n      img,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./adminEditSaler.vue?vue&type=template&id=210e192e\"\nimport script from \"./adminEditSaler.vue?vue&type=script&lang=js\"\nexport * from \"./adminEditSaler.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\tpmp1\\\\Desktop\\\\vue-project\\\\minishop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createVNode as _createVNode } from \"vue\";\n// Composables\nimport { createForm, makeFormProps } from \"../../composables/form.mjs\"; // Utilities\n\nimport { ref } from 'vue';\nimport { defineComponent, useRender } from \"../../util/index.mjs\";\nexport const VForm = defineComponent({\n  name: 'VForm',\n  props: { ...makeFormProps()\n  },\n  emits: {\n    'update:modelValue': val => true,\n    submit: e => true\n  },\n\n  setup(props, _ref) {\n    let {\n      slots,\n      emit\n    } = _ref;\n    const form = createForm(props);\n    const formRef = ref();\n\n    function onReset(e) {\n      e.preventDefault();\n      form.reset();\n    }\n\n    function onSubmit(e) {\n      e.preventDefault();\n      form.validate().then(_ref2 => {\n        let {\n          valid\n        } = _ref2;\n\n        if (valid) {\n          emit('submit', e);\n        }\n      });\n    }\n\n    useRender(() => {\n      var _slots$default;\n\n      return _createVNode(\"form\", {\n        \"ref\": formRef,\n        \"class\": \"v-form\",\n        \"novalidate\": true,\n        \"onReset\": onReset,\n        \"onSubmit\": onSubmit\n      }, [(_slots$default = slots.default) == null ? void 0 : _slots$default.call(slots, form)]);\n    });\n    return form;\n  }\n\n});\n//# sourceMappingURL=VForm.mjs.map"],"names":["getSalers","page","request","url","method","deleteSalersById","id","betchDeleteSalersById","data","headers","JSON","stringify","insertSaler","getSalerById","updateSaler","uploadSalerImg","_createElementVNode","_createVNode","_component_v_card","style","color","_component_v_card_title","class","_component_v_card_subtitle","_component_v_card_text","_component_v_btn","plain","onClick","$setup","_component_v_icon","_component_v_form","$event","_component_v_text_field","_ctx","counter","rules","label","required","_component_v_file_input","filled","chips","_component_v_avatar","size","_component_v_img","alt","src","_component_v_snackbar","name","setup","img","route","useRoute","updateSuccess","ref","updateFailed","form","reactive","email","password","phone","query","valid","nameRules","v","length","emailRules","test","passwordRules","phoneRules","validate","then","res","status","document","getElementById","files","value","setTimeout","formData","window","FormData","append","imgStatus","init","onMounted","toRefs","__exports__","render","VForm","props","emits","val","submit","e","_ref","slots","emit","formRef","onReset","preventDefault","reset","onSubmit","_ref2","_slots$default","default","call"],"sourceRoot":""}