"use strict";(self["webpackChunkminishop"]=self["webpackChunkminishop"]||[]).push([[27],{753:function(e,t,l){l.d(t,{DW:function(){return u},Kr:function(){return o},PO:function(){return r},Pk:function(){return d},Q2:function(){return n},R4:function(){return s},Zr:function(){return i}});var a=l(9496);function n(e){return(0,a.W)({url:`/admin/salers/${e}`,method:"get"})}function u(e){return(0,a.W)({url:`/admin/salers/${e}`,method:"delete"})}function r(e){return(0,a.W)({url:"/admin/salers/batchDelete",method:"delete",headers:{"content-type":"application/json"},data:JSON.stringify(e)})}function o(e){return(0,a.W)({url:"/admin/salers/insertSaler",method:"post",headers:{"content-type":"multipart/form-data"},data:e})}function s(e){return(0,a.W)({url:`/admin/saler_id/${e}`,method:"get"})}function i(e){return(0,a.W)({url:"/admin/updateSaler",method:"post",headers:{"content-type":"application/json"},data:JSON.stringify(e)})}function d(e){return(0,a.W)({url:"/admin/updateSalerImg",method:"post",headers:{"content-type":"multipart/form-data"},data:e})}},3412:function(e,t,l){l.r(t),l.d(t,{default:function(){return y}});var a=l(6252),n=l(4719),u=l(386),r=l(7695),o=l(7563),s=l(5911),i=l(7742),d=l(9357),m=l(7737),c=l(2482),p=l(8677);const f=(0,a.Uk)("销售人员增加"),h=(0,a.Uk)(" 在此可以增加销售人员的ID、姓名、电子邮箱、手机号码等信息"),w=(0,a._)("br",null,null,-1),v=(0,a.Uk)(" 注意：想要增加头像，在增加人员后在编辑介面进行 "),W=(0,a.Uk)("mdi-account-plus"),V=(0,a.Uk)(" 增加成员 "),b=(0,a.Uk)("增加成功"),k=(0,a.Uk)("增加失败");function g(e,t,l,g,U,_){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u._,{style:{height:"200px"},color:"#1F8A70"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.E,{class:"text-h4 font-weight-black text-white mt-6 ml-4"},{default:(0,a.w5)((()=>[f])),_:1}),(0,a.Wm)(o.Q,{class:"text-h6 font-weight-black text-white mt-4 ml-4"},{default:(0,a.w5)((()=>[h,w,v])),_:1}),(0,a.Wm)(s.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n.T,{color:"#004358",class:"font-weight-black text-white mt-2 ml-4",plain:"",onClick:g.validate},{default:(0,a.w5)((()=>[(0,a.Wm)(m.t,null,{default:(0,a.w5)((()=>[W])),_:1}),V])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.Wm)(u._,{class:"mt-6"},{default:(0,a.w5)((()=>[(0,a.Wm)(d.O,{modelValue:g.valid,"onUpdate:modelValue":t[4]||(t[4]=e=>g.valid=e),"lazy-validation":"",class:"ma-6"},{default:(0,a.w5)((()=>[(0,a.Wm)(p.h,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),counter:10,rules:g.nameRules,label:"Name",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(p.h,{modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t),rules:g.emailRules,label:"E-mail",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(p.h,{modelValue:e.password,"onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t),rules:g.passwordRules,label:"Password",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(p.h,{modelValue:e.phone,"onUpdate:modelValue":t[3]||(t[3]=t=>e.phone=t),rules:g.phoneRules,label:"Phone",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(i.Z,{label:"File input",filled:"","prepend-icon":"mdi-camera","show-size":"",chips:"",id:"input"})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(c.v,{modelValue:g.insertSuccess,"onUpdate:modelValue":t[5]||(t[5]=e=>g.insertSuccess=e)},{default:(0,a.w5)((()=>[b])),_:1},8,["modelValue"]),(0,a.Wm)(c.v,{modelValue:g.insertFailed,"onUpdate:modelValue":t[6]||(t[6]=e=>g.insertFailed=e)},{default:(0,a.w5)((()=>[k])),_:1},8,["modelValue"])],64)}var U=l(2262),_=l(753),R={name:"adminInsertSaler",setup(){let e=(0,U.iH)(!1),t=(0,U.iH)(!1),l=(0,U.qj)({name:"",email:"",password:"",phone:""}),a=!0,n=[e=>!!e||"Name is required",e=>e&&e.length<=10||"Name must be less than 10 characters"],u=[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],r=[e=>!!e||"E-mail is required"],o=[e=>!!e||"Name is required",e=>e&&11!==e.length||"Name must be less than 10 characters"];const s=()=>{let a=new window.FormData;a.append("name",l.name),a.append("email",l.email),a.append("password",l.password),a.append("phone",l.phone),a.append("avatar",document.getElementById("input").files[0]),(0,_.Kr)(a).then((a=>{let n=a.data.status;console.log(a),console.log(a.data.status),1===n?(e.value=!0,setTimeout((()=>{e.value=!1}),1e3)):(t.value=!0,setTimeout((()=>{t.value=!1}),1e3)),l.name="",l.email="",l.password="",l.phone=""}))};return{valid:a,nameRules:n,emailRules:u,passwordRules:r,phoneRules:o,...(0,U.BK)(l),validate:s,insertSuccess:e,insertFailed:t}}},S=l(3744);const q=(0,S.Z)(R,[["render",g]]);var y=q},9357:function(e,t,l){l.d(t,{O:function(){return s}});var a=l(6252),n=l(9728),u=l(2262),r=l(6719),o=l(3099);const s=(0,r.a)({name:"VForm",props:{...(0,n.vC)()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:l,emit:r}=t;const s=(0,n.Np)(e),i=(0,u.iH)();function d(e){e.preventDefault(),s.reset()}function m(e){e.preventDefault(),s.validate().then((t=>{let{valid:l}=t;l&&r("submit",e)}))}return(0,o.L)((()=>{var e;return(0,a.Wm)("form",{ref:i,class:"v-form",novalidate:!0,onReset:d,onSubmit:m},[null==(e=l.default)?void 0:e.call(l,s)])})),s}})}}]);
//# sourceMappingURL=27.a7fd24fb.js.map