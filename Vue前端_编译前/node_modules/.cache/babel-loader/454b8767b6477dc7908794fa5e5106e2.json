{"ast":null,"code":"import { useRoute, useRouter } from \"vue-router\";\nimport { onMounted, ref, watch } from \"vue\";\nimport { getOrderByUserIdForUser } from \"../../../network/order\";\nexport default {\n  name: \"checkOrder\",\n\n  setup() {\n    let router = useRouter();\n    let route = useRoute();\n    let page = ref(1);\n    let desserts = ref([]);\n    let pageLength = ref(1);\n    let pageSize = ref(1);\n    let pageTotal = ref(1);\n    onMounted(() => {\n      init();\n    });\n\n    const init = () => {\n      getOrderByUserIdForUser(window.localStorage.getItem(\"UserId\"), page.value).then(res => {\n        desserts.value = res.data.data;\n        pageLength.value = res.data.PageLength;\n        pageSize.value = res.data.PageSize;\n        pageTotal.value = res.data.PageTotal;\n      });\n    };\n\n    watch(page, async (newPage, oldPage) => {\n      init();\n    });\n\n    const toOrderDetail = id => {\n      router.push({\n        path: \"checkOrderDetail\",\n        query: {\n          id: id\n        }\n      });\n    };\n\n    return {\n      desserts,\n      page,\n      pageLength,\n      pageSize,\n      toOrderDetail\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAmEA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,YAAlC;AACA,SAAQC,SAAR,EAAmBC,GAAnB,EAAwBC,KAAxB,QAAoC,KAApC;AACA,SAAQC,uBAAR,QAAsC,wBAAtC;AAEA,eAAe;AACbC,MAAI,EAAE,YADO;;AAEbC,OAAK,GAAG;AACN,QAAIC,MAAK,GAAIP,SAAS,EAAtB;AACA,QAAIQ,KAAI,GAAIT,QAAQ,EAApB;AACA,QAAIU,IAAG,GAAIP,GAAG,CAAC,CAAD,CAAd;AACA,QAAIQ,QAAO,GAAIR,GAAG,CAAC,EAAD,CAAlB;AACA,QAAIS,UAAS,GAAIT,GAAG,CAAC,CAAD,CAApB;AACA,QAAIU,QAAO,GAAIV,GAAG,CAAC,CAAD,CAAlB;AACA,QAAIW,SAAQ,GAAIX,GAAG,CAAC,CAAD,CAAnB;AAEAD,aAAS,CAAC,MAAI;AACZa,UAAI;AACL,KAFQ,CAAT;;AAIA,UAAMA,IAAG,GAAI,MAAM;AACjBV,6BAAuB,CAACW,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,CAAD,EAAwCR,IAAI,CAACS,KAA7C,CAAvB,CAA4EC,IAA5E,CAAiFC,GAAG,IAAE;AACpFV,gBAAQ,CAACQ,KAAT,GAAiBE,GAAG,CAACC,IAAJ,CAASA,IAA1B;AACAV,kBAAU,CAACO,KAAX,GAAmBE,GAAG,CAACC,IAAJ,CAASC,UAA5B;AACAV,gBAAQ,CAACM,KAAT,GAAiBE,GAAG,CAACC,IAAJ,CAASE,QAA1B;AACAV,iBAAS,CAACK,KAAV,GAAkBE,GAAG,CAACC,IAAJ,CAASG,SAA3B;AACD,OALD;AAMF,KAPA;;AASArB,SAAK,CAACM,IAAD,EAAO,OAAMgB,OAAN,EAAeC,OAAf,KAA2B;AACrCZ,UAAI;AACL,KAFI,CAAL;;AAIA,UAAMa,aAAY,GAAKC,EAAD,IAAQ;AAC5BrB,YAAM,CAACsB,IAAP,CAAY;AAACC,YAAI,EAAE,kBAAP;AAA2BC,aAAK,EAAE;AAACH,YAAE,EAAEA;AAAL;AAAlC,OAAZ;AACF,KAFA;;AAIA,WAAO;AACLlB,cADK;AAELD,UAFK;AAGLE,gBAHK;AAILC,cAJK;AAKLe;AALK,KAAP;AAQF;;AAxCa,CAAf","names":["useRoute","useRouter","onMounted","ref","watch","getOrderByUserIdForUser","name","setup","router","route","page","desserts","pageLength","pageSize","pageTotal","init","window","localStorage","getItem","value","then","res","data","PageLength","PageSize","PageTotal","newPage","oldPage","toOrderDetail","id","push","path","query"],"sourceRoot":"","sources":["C:\\Users\\tpmp1\\Desktop\\vue-project\\minishop\\src\\views\\front\\checkOrder.vue"],"sourcesContent":["<template>\r\n  <v-card style=\"height: 200px;\" color=\"#BF6211\">\r\n    <v-card-title class=\"text-h4 font-weight-black text-white mt-6 ml-4\">查看你的订单</v-card-title>\r\n    <v-card-subtitle class=\"text-h6 font-weight-black text-white mt-4 ml-4\">\r\n      你买过的东西\r\n    </v-card-subtitle>\r\n    <v-card-text>\r\n\r\n    </v-card-text>\r\n  </v-card>\r\n\r\n  <v-card class=\"mt-6\">\r\n    <v-table>\r\n      <template v-slot:default>\r\n        <thead style=\"background-color: #733410\">\r\n        <tr>\r\n          <th class=\"text-left text-subtitle-1 font-weight-black text-white\">\r\n            用户\r\n          </th>\r\n          <th class=\"text-left text-subtitle-1 font-weight-black text-white\">\r\n            时间\r\n          </th>\r\n          <th class=\"text-left text-subtitle-1 font-weight-black text-white\">\r\n            地址\r\n          </th>\r\n          <th class=\"text-left text-subtitle-1 font-weight-black text-white\">\r\n            操作\r\n          </th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr\r\n            v-for=\"n in desserts\"\r\n            :key=\"n.id\"\r\n        >\r\n          <td class=\"font-weight-medium\">{{ n.username }}</td>\r\n          <td class=\"font-weight-medium\">{{ n.time }}</td>\r\n          <td class=\"font-weight-medium\">{{ n.address }}</td>\r\n          <td>\r\n            <v-btn\r\n                color=\"#f28f16\"\r\n                class=\"font-weight-black text-white\"\r\n                plain\r\n                @click=\"toOrderDetail(n.id)\"\r\n            >\r\n              <v-icon>mdi-file-document-edit</v-icon>\r\n              订单详情\r\n            </v-btn>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </template>\r\n    </v-table>\r\n  </v-card>\r\n  <div class=\"float-right mt-2\">\r\n    <v-pagination\r\n        v-model=\"page\"\r\n        :length=\"pageLength\"\r\n        total-visible=\"10\"\r\n        rounded=\"circle\"\r\n\r\n    ></v-pagination>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {useRoute, useRouter} from \"vue-router\";\r\nimport {onMounted, ref, watch} from \"vue\";\r\nimport {getOrderByUserIdForUser} from \"../../../network/order\";\r\n\r\nexport default {\r\n  name: \"checkOrder\",\r\n  setup() {\r\n    let router = useRouter();\r\n    let route = useRoute();\r\n    let page = ref(1);\r\n    let desserts = ref([]);\r\n    let pageLength = ref(1);\r\n    let pageSize = ref(1);\r\n    let pageTotal = ref(1);\r\n\r\n    onMounted(()=>{\r\n      init()\r\n    })\r\n\r\n    const init = () => {\r\n      getOrderByUserIdForUser(window.localStorage.getItem(\"UserId\"), page.value ).then(res=>{\r\n        desserts.value = res.data.data;\r\n        pageLength.value = res.data.PageLength;\r\n        pageSize.value = res.data.PageSize;\r\n        pageTotal.value = res.data.PageTotal;\r\n      })\r\n    }\r\n\r\n    watch(page, async(newPage, oldPage) => {\r\n      init()\r\n    })\r\n\r\n    const toOrderDetail = (id) => {\r\n      router.push({path: \"checkOrderDetail\", query: {id: id}})\r\n    }\r\n\r\n    return {\r\n      desserts,\r\n      page,\r\n      pageLength,\r\n      pageSize,\r\n      toOrderDetail,\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}