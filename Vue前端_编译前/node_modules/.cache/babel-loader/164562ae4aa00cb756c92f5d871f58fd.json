{"ast":null,"code":"import { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\"; // Components\n\nimport { VExpandTransition } from \"../transitions/index.mjs\"; // Composables\n\nimport { useList } from \"./list.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { useNestedGroupActivator, useNestedItem } from \"../../composables/nested/nested.mjs\"; // Utilities\n\nimport { computed, defineComponent, toRef } from 'vue';\nimport { genericComponent } from \"../../util/index.mjs\"; // Types\n\nconst VListGroupActivator = defineComponent({\n  name: 'VListGroupActivator',\n\n  setup(_, _ref) {\n    let {\n      slots\n    } = _ref;\n    useNestedGroupActivator();\n    return () => {\n      var _slots$default;\n\n      return (_slots$default = slots.default) == null ? void 0 : _slots$default.call(slots);\n    };\n  }\n\n});\nexport const VListGroup = genericComponent()({\n  name: 'VListGroup',\n  props: {\n    collapseIcon: {\n      type: String,\n      default: '$collapse'\n    },\n    expandIcon: {\n      type: String,\n      default: '$expand'\n    },\n    value: null,\n    ...makeTagProps()\n  },\n\n  setup(props, _ref2) {\n    let {\n      slots\n    } = _ref2;\n    const {\n      isOpen,\n      open\n    } = useNestedItem(toRef(props, 'value'), true);\n    const list = useList();\n\n    const onClick = e => {\n      open(!isOpen.value, e);\n    };\n\n    const activatorProps = computed(() => ({\n      onClick,\n      appendIcon: isOpen.value ? props.collapseIcon : props.expandIcon,\n      class: 'v-list-group__header'\n    }));\n    return () => {\n      var _slots$default2;\n\n      return _createVNode(props.tag, {\n        \"class\": ['v-list-group', {\n          'v-list-group--prepend': list == null ? void 0 : list.hasPrepend.value\n        }]\n      }, {\n        default: () => [slots.activator && _createVNode(VListGroupActivator, null, {\n          default: () => [slots.activator({\n            props: activatorProps.value\n          })]\n        }), _createVNode(VExpandTransition, null, {\n          default: () => [_withDirectives(_createVNode(\"div\", {\n            \"class\": \"v-list-group__items\"\n          }, [(_slots$default2 = slots.default) == null ? void 0 : _slots$default2.call(slots)]), [[_vShow, isOpen.value]])]\n        })]\n      });\n    };\n  }\n\n});","map":{"version":3,"mappings":"uGAAA;;SACSA,yB,4BAET;;SACSC,e;SACAC,oB;SACAC,yBAAyBC,qB,uCAElC;;AACA,SAASC,QAAT,EAAmBC,eAAnB,EAAoCC,KAApC,QAAiD,KAAjD;SACSC,wB,wBAET;;AAaA,MAAMC,mBAAmB,GAAGH,eAAe,CAAC;AAC1CI,MAAI,EAAE,qBADoC;;AAG1CC,OAAK,CAAEC,CAAF,QAAgB;AAAA,QAAX;AAAEC;AAAF,QAAWC;AACnBX,2BAAuB;AAEvB,WAAO;AAAA;;AAAA,+BAAMU,KAAK,CAACE,OAAZ,qBAAMC,0BAAN;AAAP;AACD;;AAPyC,CAAD,CAA3C;AAUA,OAAO,MAAMC,UAAU,GAAGT,gBAAgB,GAQrC;AACHE,MAAI,EAAE,YADH;AAGHQ,OAAK,EAAE;AACLC,gBAAY,EAAE;AACZC,UAAI,EAAEC,MADM;AAEZN,aAAO,EAAE;AAFG,KADT;AAKLO,cAAU,EAAE;AACVF,UAAI,EAAEC,MADI;AAEVN,aAAO,EAAE;AAFC,KALP;AASLQ,SAAK,EAAE,IATF;AAWL,OAAGrB,YAAY;AAXV,GAHJ;;AAiBHS,OAAK,CAAEO,KAAF,SAAoB;AAAA,QAAX;AAAEL;AAAF,QAAWW;AACvB,UAAM;AAAEC,YAAF;AAAUC;AAAV,QAAmBtB,aAAa,CAACG,KAAK,CAACW,KAAD,EAAQ,OAAR,CAAN,EAAwB,IAAxB,CAAtC;AACA,UAAMS,IAAI,GAAG1B,OAAO,EAApB;;AAEA,UAAM2B,OAAO,GAAIC,CAAD,IAAc;AAC5BH,UAAI,CAAC,CAACD,MAAM,CAACF,KAAT,EAAgBM,CAAhB,CAAJH;AADF;;AAIA,UAAMI,cAAoD,GAAGzB,QAAQ,CAAC,OAAO;AAC3EuB,aAD2E;AAE3EG,gBAAU,EAAEN,MAAM,CAACF,KAAPE,GAAeP,KAAK,CAACC,YAArBM,GAAoCP,KAAK,CAACI,UAFqB;AAG3EU,WAAK,EAAE;AAHoE,KAAP,CAAD,CAArE;AAMA,WAAO,MAAM;AAAA;;AACX;AAAA,iBAEW,CACL,cADK,EAEL;AACE,mCAAyBL,IAAzB,QAAyBA,GAAzB,MAAyBA,OAAI,CAAEM,UAANN,CAAiBJ;AAD5C,SAFK;AAFX;AAAAR,wBASMF,KAAK,CAACqB,SAANrB;AAAAE,0BAEIF,KAAK,CAACqB,SAANrB,CAAgB;AAAEK,iBAAK,EAAEY,cAAc,CAACP;AAAxB,WAAhBV,CAFJ;AAAA,UATN;AAAAE;AAAA,qBAeiB;AAfjB,iCAgBUF,KAAK,CAACE,OAhBhB,qBAgBUoB,2BAhBV,cAe+CV,MAAM,CAACF,KAftD;AAAA;AAAA;AADF;AAuBD;;AAtDE,CARqC,CAAnC","names":["VExpandTransition","useList","makeTagProps","useNestedGroupActivator","useNestedItem","computed","defineComponent","toRef","genericComponent","VListGroupActivator","name","setup","_","slots","_ref","default","_slots$default","VListGroup","props","collapseIcon","type","String","expandIcon","value","_ref2","isOpen","open","list","onClick","e","activatorProps","appendIcon","class","hasPrepend","activator","_slots$default2"],"sources":["../../../src/components/VList/VListGroup.tsx"],"sourcesContent":["// Components\nimport { VExpandTransition } from '@/components/transitions'\n\n// Composables\nimport { useList } from './list'\nimport { makeTagProps } from '@/composables/tag'\nimport { useNestedGroupActivator, useNestedItem } from '@/composables/nested/nested'\n\n// Utilities\nimport { computed, defineComponent, toRef } from 'vue'\nimport { genericComponent } from '@/util'\n\n// Types\nimport type { Ref } from 'vue'\nimport type { MakeSlots } from '@/util'\nimport type { InternalListItem } from './VList'\n\nexport type ListGroupActivatorSlot = {\n  props: {\n    onClick: (e: Event) => void\n    appendIcon: string\n    class: string\n  }\n}\n\nconst VListGroupActivator = defineComponent({\n  name: 'VListGroupActivator',\n\n  setup (_, { slots }) {\n    useNestedGroupActivator()\n\n    return () => slots.default?.()\n  },\n})\n\nexport const VListGroup = genericComponent<new <T extends InternalListItem>() => {\n  $props: {\n    items?: T[]\n  }\n  $slots: MakeSlots<{\n    activator: [ListGroupActivatorSlot]\n    default: []\n  }>\n}>()({\n  name: 'VListGroup',\n\n  props: {\n    collapseIcon: {\n      type: String,\n      default: '$collapse',\n    },\n    expandIcon: {\n      type: String,\n      default: '$expand',\n    },\n    value: null,\n\n    ...makeTagProps(),\n  },\n\n  setup (props, { slots }) {\n    const { isOpen, open } = useNestedItem(toRef(props, 'value'), true)\n    const list = useList()\n\n    const onClick = (e: Event) => {\n      open(!isOpen.value, e)\n    }\n\n    const activatorProps: Ref<ListGroupActivatorSlot['props']> = computed(() => ({\n      onClick,\n      appendIcon: isOpen.value ? props.collapseIcon : props.expandIcon,\n      class: 'v-list-group__header',\n    }))\n\n    return () => {\n      return (\n        <props.tag\n          class={[\n            'v-list-group',\n            {\n              'v-list-group--prepend': list?.hasPrepend.value,\n            },\n          ]}\n        >\n          { slots.activator && (\n            <VListGroupActivator>\n              { slots.activator({ props: activatorProps.value }) }\n            </VListGroupActivator>\n          ) }\n          <VExpandTransition>\n            <div class=\"v-list-group__items\" v-show={isOpen.value}>\n              { slots.default?.() }\n            </div>\n          </VExpandTransition>\n        </props.tag>\n      )\n    }\n  },\n})\n"]},"metadata":{},"sourceType":"module"}