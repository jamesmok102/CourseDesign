{"ast":null,"code":"import { ref } from \"vue\";\nimport store from \"@/store\";\nimport { useRouter } from \"vue-router\";\nimport { watch } from \"vue\";\nimport { insertLogRecord } from \"../../../network/logRecord\";\nexport default {\n  name: \"Main\",\n\n  setup() {\n    let drawer = ref(false);\n    let router = useRouter();\n\n    const logout = () => {\n      let form = {\n        state: \"登出\",\n        role: \"用户\",\n        name: window.localStorage.getItem(\"UserName\")\n      };\n      insertLogRecord(form).then(res => {});\n      window.localStorage.setItem('JWT_User_Token', '');\n      window.localStorage.setItem('UserId', '');\n      store.commit('setUserIsLogin', false);\n      store.commit('setUserId', \"\");\n      router.push({\n        path: '/userlogin'\n      });\n    };\n\n    return {\n      drawer,\n      logout\n    };\n  }\n\n};","map":{"version":3,"mappings":"AA4DA,SAAQA,GAAR,QAAkB,KAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAAQC,SAAR,QAAwB,YAAxB;AACA,SAAQC,KAAR,QAAoB,KAApB;AACA,SAAQC,eAAR,QAA8B,4BAA9B;AAEA,eAAe;AACbC,MAAI,EAAE,MADO;;AAEbC,OAAK,GAAG;AACN,QAAIC,MAAK,GAAIP,GAAG,CAAC,KAAD,CAAhB;AACA,QAAIQ,MAAK,GAAIN,SAAS,EAAtB;;AACA,UAAMO,MAAK,GAAI,MAAM;AAEnB,UAAIC,IAAG,GAAI;AACTC,aAAK,EAAE,IADE;AAETC,YAAI,EAAE,IAFG;AAGTP,YAAI,EAAEQ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B;AAHG,OAAX;AAMAX,qBAAe,CAACM,IAAD,CAAf,CAAsBM,IAAtB,CAA2BC,GAAG,IAAE,CAE/B,CAFD;AAIAJ,YAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4B,gBAA5B,EAA8C,EAA9C;AACAL,YAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4B,QAA5B,EAAsC,EAAtC;AACAjB,WAAK,CAACkB,MAAN,CAAa,gBAAb,EAA+B,KAA/B;AACAlB,WAAK,CAACkB,MAAN,CAAa,WAAb,EAA0B,EAA1B;AACAX,YAAM,CAACY,IAAP,CAAY;AAACC,YAAI,EAAC;AAAN,OAAZ;AACF,KAjBA;;AAmBA,WAAO;AACLd,YADK;AAELE;AAFK,KAAP;AAKF;;AA7Ba,CAAf","names":["ref","store","useRouter","watch","insertLogRecord","name","setup","drawer","router","logout","form","state","role","window","localStorage","getItem","then","res","setItem","commit","push","path"],"sourceRoot":"","sources":["C:\\Users\\tpmp1\\Desktop\\vue-project\\minishop\\src\\views\\front\\Main.vue"],"sourcesContent":["<template>\r\n  <v-app>\r\n    <v-navigation-drawer app v-model=\"drawer\">\r\n\r\n      <template v-slot:prepend>\r\n        <v-list-item\r\n            two-line\r\n            prepend-avatar=\"https://randomuser.me/api/portraits/women/81.jpg\"\r\n            title=\"Admin\"\r\n            subtitle=\"已登入\"\r\n            style=\"padding-bottom: 16px;\"\r\n        ></v-list-item>\r\n      </template>\r\n\r\n      <v-divider></v-divider>\r\n\r\n      <v-list density=\"compact\" nav>\r\n        <v-list-item prepend-icon=\"mdi-home-city\" title=\"商品推薦\" value=\"home\" to=\"/productsfeatured\"></v-list-item>\r\n        <v-list-item prepend-icon=\"mdi-home-city\" title=\"全部商品\" value=\"allgoods\" to=\"/allgood\"></v-list-item>\r\n        <v-list-item prepend-icon=\"mdi-account\" title=\"注册\" value=\"register\" to=\"/registeruser\" ></v-list-item>\r\n        <v-list-item prepend-icon=\"mdi-account\" title=\"登入\" value=\"login\" to=\"/userlogin\" ></v-list-item>\r\n        <v-list-item prepend-icon=\"mdi-account\" title=\"个人资料\" value=\"profile\" to=\"/profile\" ></v-list-item>\r\n        <v-list-item prepend-icon=\"mdi-account\" title=\"购物车\" value=\"cart\" to=\"/cart\" ></v-list-item>\r\n        <v-list-item prepend-icon=\"mdi-account\" title=\"个人订单\" value=\"checkOrder\" to=\"/checkOrder\" ></v-list-item>\r\n      </v-list>\r\n\r\n    </v-navigation-drawer>\r\n\r\n    <v-app-bar app color=\"#733410\">\r\n\r\n      <template v-slot:prepend>\r\n        <v-app-bar-nav-icon variant=\"text\" @click.stop=\"drawer = !drawer\" class=\"text-white\"></v-app-bar-nav-icon>\r\n      </template>\r\n\r\n      <v-app-bar-title class=\"text-white font-weight-black\">迷你商城</v-app-bar-title>\r\n\r\n      <v-btn icon>\r\n        <v-icon class=\"text-white\" @click=\"logout\">mdi-exit-run</v-icon>\r\n      </v-btn>\r\n\r\n    </v-app-bar>\r\n\r\n    <!-- Sizes your content based upon application components -->\r\n    <v-main style=\"height: 100vh;\">\r\n\r\n      <!-- Provides the application the proper gutter -->\r\n      <v-container fluid>\r\n\r\n        <!-- If using vue-router -->\r\n        <router-view></router-view>\r\n      </v-container>\r\n    </v-main>\r\n\r\n    <v-footer app>\r\n      <!-- -->\r\n    </v-footer>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport {ref} from \"vue\";\r\nimport store from \"@/store\";\r\nimport {useRouter} from \"vue-router\";\r\nimport {watch} from \"vue\";\r\nimport {insertLogRecord} from \"../../../network/logRecord\";\r\n\r\nexport default {\r\n  name: \"Main\",\r\n  setup() {\r\n    let drawer = ref(false);\r\n    let router = useRouter();\r\n    const logout = () => {\r\n\r\n      let form = {\r\n        state: \"登出\",\r\n        role: \"用户\",\r\n        name: window.localStorage.getItem(\"UserName\")\r\n      }\r\n\r\n      insertLogRecord(form).then(res=>{\r\n\r\n      })\r\n\r\n      window.localStorage.setItem('JWT_User_Token', '');\r\n      window.localStorage.setItem('UserId', '');\r\n      store.commit('setUserIsLogin', false);\r\n      store.commit('setUserId', \"\");\r\n      router.push({path:'/userlogin'})\r\n    }\r\n\r\n    return {\r\n      drawer,\r\n      logout,\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}