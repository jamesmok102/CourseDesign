{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport \"./VPagination.css\"; // Components\n\nimport { VBtn } from \"../VBtn/index.mjs\"; // Composables\n\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { useLocale } from \"../../composables/locale.mjs\";\nimport { useRtl } from \"../../composables/rtl.mjs\";\nimport { makeElevationProps } from \"../../composables/elevation.mjs\";\nimport { makeDensityProps } from \"../../composables/density.mjs\";\nimport { makeSizeProps } from \"../../composables/size.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { makeVariantProps } from \"../../composables/variant.mjs\";\nimport { useResizeObserver } from \"../../composables/resizeObserver.mjs\";\nimport { makeBorderProps } from \"../../composables/border.mjs\";\nimport { useRefs } from \"../../composables/refs.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { provideDefaults } from \"../../composables/defaults.mjs\"; // Utilities\n\nimport { computed, nextTick, ref, toRef } from 'vue';\nimport { createRange, defineComponent, keyValues } from \"../../util/index.mjs\"; // Types\n\nimport { makeRoundedProps } from \"../../composables/rounded.mjs\";\nexport const VPagination = defineComponent({\n  name: 'VPagination',\n  props: {\n    start: {\n      type: [Number, String],\n      default: 1\n    },\n    modelValue: {\n      type: Number,\n      default: props => props.start\n    },\n    disabled: Boolean,\n    length: {\n      type: [Number, String],\n      default: 1,\n      validator: val => val % 1 === 0\n    },\n    totalVisible: [Number, String],\n    firstIcon: {\n      type: String,\n      default: '$first'\n    },\n    prevIcon: {\n      type: String,\n      default: '$prev'\n    },\n    nextIcon: {\n      type: String,\n      default: '$next'\n    },\n    lastIcon: {\n      type: String,\n      default: '$last'\n    },\n    ariaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.root'\n    },\n    pageAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.page'\n    },\n    currentPageAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.currentPage'\n    },\n    firstAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.first'\n    },\n    previousAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.previous'\n    },\n    nextAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.next'\n    },\n    lastAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.last'\n    },\n    ellipsis: {\n      type: String,\n      default: '...'\n    },\n    showFirstLastPage: Boolean,\n    ...makeRoundedProps(),\n    ...makeBorderProps(),\n    ...makeDensityProps(),\n    ...makeElevationProps(),\n    ...makeSizeProps(),\n    ...makeTagProps({\n      tag: 'nav'\n    }),\n    ...makeThemeProps(),\n    ...makeVariantProps({\n      variant: 'text'\n    })\n  },\n  emits: {\n    'update:modelValue': value => true,\n    first: value => true,\n    prev: value => true,\n    next: value => true,\n    last: value => true\n  },\n\n  setup(props, _ref) {\n    let {\n      slots,\n      emit\n    } = _ref;\n    const page = useProxiedModel(props, 'modelValue');\n    const {\n      t,\n      n\n    } = useLocale();\n    const {\n      isRtl\n    } = useRtl();\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const maxButtons = ref(-1);\n    provideDefaults(undefined, {\n      scoped: true\n    });\n    const {\n      resizeRef\n    } = useResizeObserver(entries => {\n      if (!entries.length) return;\n      const {\n        target,\n        contentRect\n      } = entries[0];\n      const firstItem = target.querySelector('.v-pagination__list > *');\n      if (!firstItem) return;\n      const totalWidth = contentRect.width;\n      const itemWidth = firstItem.getBoundingClientRect().width + 10;\n      maxButtons.value = Math.max(0, Math.floor((totalWidth - 96) / itemWidth));\n    });\n    const length = computed(() => parseInt(props.length, 10));\n    const start = computed(() => parseInt(props.start, 10));\n    const totalVisible = computed(() => {\n      var _props$totalVisible;\n\n      if (props.totalVisible) return Math.min(parseInt((_props$totalVisible = props.totalVisible) != null ? _props$totalVisible : '', 10), length.value);else if (maxButtons.value >= 0) return maxButtons.value;\n      return length.value;\n    });\n    const range = computed(() => {\n      if (length.value <= 0) return [];\n\n      if (totalVisible.value <= 3) {\n        return [Math.min(Math.max(start.value, page.value), start.value + length.value)];\n      }\n\n      if (props.length <= totalVisible.value) {\n        return createRange(length.value, start.value);\n      }\n\n      const middle = Math.ceil(totalVisible.value / 2);\n      const left = middle;\n      const right = length.value - middle;\n\n      if (page.value < left) {\n        return [...createRange(Math.max(1, totalVisible.value - 2), start.value), props.ellipsis, length.value];\n      } else if (page.value > right) {\n        const rangeLength = totalVisible.value - 2;\n        const rangeStart = length.value - rangeLength + start.value;\n        return [start.value, props.ellipsis, ...createRange(rangeLength, rangeStart)];\n      } else {\n        const rangeLength = Math.max(1, totalVisible.value - 4);\n        const rangeStart = rangeLength === 1 ? page.value : page.value - Math.ceil(rangeLength / 2) + start.value;\n        return [start.value, props.ellipsis, ...createRange(rangeLength, rangeStart), props.ellipsis, length.value];\n      }\n    }); // TODO: 'first' | 'prev' | 'next' | 'last' does not work here?\n\n    function setValue(e, value, event) {\n      e.preventDefault();\n      page.value = value;\n      event && emit(event, value);\n    }\n\n    const {\n      refs,\n      updateRef\n    } = useRefs();\n    provideDefaults({\n      VBtn: {\n        border: toRef(props, 'border'),\n        density: toRef(props, 'density'),\n        size: toRef(props, 'size'),\n        variant: toRef(props, 'variant')\n      }\n    });\n    const items = computed(() => {\n      return range.value.map((item, index) => {\n        const ref = e => updateRef(e, index);\n\n        if (typeof item === 'string') {\n          return {\n            isActive: false,\n            page: item,\n            props: {\n              ref,\n              ellipsis: true,\n              icon: true,\n              disabled: true\n            }\n          };\n        } else {\n          const isActive = item === page.value;\n          return {\n            isActive,\n            page: n(item),\n            props: {\n              ref,\n              ellipsis: false,\n              icon: true,\n              disabled: !!props.disabled || props.length < 2,\n              elevation: props.elevation,\n              rounded: props.rounded,\n              color: isActive ? props.color : undefined,\n              ariaCurrent: isActive,\n              ariaLabel: t(isActive ? props.currentPageAriaLabel : props.pageAriaLabel, index + 1),\n              onClick: e => setValue(e, item)\n            }\n          };\n        }\n      });\n    });\n    const controls = computed(() => {\n      const prevDisabled = !!props.disabled || page.value <= start.value;\n      const nextDisabled = !!props.disabled || page.value >= start.value + length.value - 1;\n      return {\n        first: props.showFirstLastPage ? {\n          icon: isRtl.value ? props.lastIcon : props.firstIcon,\n          onClick: e => setValue(e, start.value, 'first'),\n          disabled: prevDisabled,\n          ariaLabel: t(props.firstAriaLabel),\n          ariaDisabled: prevDisabled\n        } : undefined,\n        prev: {\n          icon: isRtl.value ? props.nextIcon : props.prevIcon,\n          onClick: e => setValue(e, page.value - 1, 'prev'),\n          disabled: prevDisabled,\n          ariaLabel: t(props.previousAriaLabel),\n          ariaDisabled: prevDisabled\n        },\n        next: {\n          icon: isRtl.value ? props.prevIcon : props.nextIcon,\n          onClick: e => setValue(e, page.value + 1, 'next'),\n          disabled: nextDisabled,\n          ariaLabel: t(props.nextAriaLabel),\n          ariaDisabled: nextDisabled\n        },\n        last: props.showFirstLastPage ? {\n          icon: isRtl.value ? props.firstIcon : props.lastIcon,\n          onClick: e => setValue(e, start.value + length.value - 1, 'last'),\n          disabled: nextDisabled,\n          ariaLabel: t(props.lastAriaLabel),\n          ariaDisabled: nextDisabled\n        } : undefined\n      };\n    });\n\n    function updateFocus() {\n      var _refs$value$currentIn;\n\n      const currentIndex = page.value - start.value;\n      (_refs$value$currentIn = refs.value[currentIndex]) == null ? void 0 : _refs$value$currentIn.$el.focus();\n    }\n\n    function onKeydown(e) {\n      if (e.key === keyValues.left && !props.disabled && page.value > props.start) {\n        page.value = page.value - 1;\n        nextTick(updateFocus);\n      } else if (e.key === keyValues.right && !props.disabled && page.value < start.value + length.value - 1) {\n        page.value = page.value + 1;\n        nextTick(updateFocus);\n      }\n    }\n\n    return () => _createVNode(props.tag, {\n      \"ref\": resizeRef,\n      \"class\": ['v-pagination', themeClasses.value],\n      \"role\": \"navigation\",\n      \"aria-label\": t(props.ariaLabel),\n      \"onKeydown\": onKeydown,\n      \"data-test\": \"v-pagination-root\"\n    }, {\n      default: () => [_createVNode(\"ul\", {\n        \"class\": \"v-pagination__list\"\n      }, [props.showFirstLastPage && _createVNode(\"li\", {\n        \"class\": \"v-pagination__first\",\n        \"data-test\": \"v-pagination-first\"\n      }, [slots.first ? slots.first(controls.value.first) : _createVNode(VBtn, controls.value.first, null)]), _createVNode(\"li\", {\n        \"class\": \"v-pagination__prev\",\n        \"data-test\": \"v-pagination-prev\"\n      }, [slots.prev ? slots.prev(controls.value.prev) : _createVNode(VBtn, controls.value.prev, null)]), items.value.map((item, index) => _createVNode(\"li\", {\n        \"key\": `${index}_${item.page}`,\n        \"class\": ['v-pagination__item', {\n          'v-pagination__item--is-active': item.isActive\n        }],\n        \"data-test\": \"v-pagination-item\"\n      }, [slots.item ? slots.item(item) : _createVNode(VBtn, item.props, {\n        default: () => [item.page]\n      })])), _createVNode(\"li\", {\n        \"class\": \"v-pagination__next\",\n        \"data-test\": \"v-pagination-next\"\n      }, [slots.next ? slots.next(controls.value.next) : _createVNode(VBtn, controls.value.next, null)]), props.showFirstLastPage && _createVNode(\"li\", {\n        \"class\": \"v-pagination__last\",\n        \"data-test\": \"v-pagination-last\"\n      }, [slots.last ? slots.last(controls.value.last) : _createVNode(VBtn, controls.value.last, null)])])]\n    });\n  }\n\n});","map":{"version":3,"mappings":"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","names":["VBtn","makeTagProps","useLocale","useRtl","makeElevationProps","makeDensityProps","makeSizeProps","makeThemeProps","provideTheme","makeVariantProps","useResizeObserver","makeBorderProps","useRefs","useProxiedModel","provideDefaults","computed","nextTick","ref","toRef","createRange","defineComponent","keyValues","makeRoundedProps","VPagination","name","props","start","type","Number","String","default","modelValue","disabled","Boolean","length","validator","val","totalVisible","firstIcon","prevIcon","nextIcon","lastIcon","ariaLabel","pageAriaLabel","currentPageAriaLabel","firstAriaLabel","previousAriaLabel","nextAriaLabel","lastAriaLabel","ellipsis","showFirstLastPage","tag","variant","emits","value","first","prev","next","last","setup","slots","emit","_ref","page","t","n","isRtl","themeClasses","maxButtons","undefined","scoped","resizeRef","entries","target","contentRect","firstItem","querySelector","totalWidth","width","itemWidth","getBoundingClientRect","Math","max","floor","parseInt","min","range","middle","ceil","left","right","rangeLength","rangeStart","setValue","e","event","preventDefault","refs","updateRef","border","density","size","items","map","item","index","isActive","icon","elevation","rounded","color","ariaCurrent","onClick","controls","prevDisabled","nextDisabled","ariaDisabled","updateFocus","currentIndex","$el","focus","onKeydown","key"],"sources":["../../../src/components/VPagination/VPagination.tsx"],"sourcesContent":["import './VPagination.sass'\n\n// Components\nimport { VBtn } from '../VBtn'\n\n// Composables\nimport { makeTagProps } from '@/composables/tag'\nimport { useLocale } from '@/composables/locale'\nimport { useRtl } from '@/composables/rtl'\nimport { makeElevationProps } from '@/composables/elevation'\nimport { makeDensityProps } from '@/composables/density'\nimport { makeSizeProps } from '@/composables/size'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { makeVariantProps } from '@/composables/variant'\nimport { useResizeObserver } from '@/composables/resizeObserver'\nimport { makeBorderProps } from '@/composables/border'\nimport { useRefs } from '@/composables/refs'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { provideDefaults } from '@/composables/defaults'\n\n// Utilities\nimport { computed, nextTick, ref, toRef } from 'vue'\nimport { createRange, defineComponent, keyValues } from '@/util'\n\n// Types\nimport type { ComponentPublicInstance } from 'vue'\nimport { makeRoundedProps } from '@/composables/rounded'\n\nexport const VPagination = defineComponent({\n  name: 'VPagination',\n\n  props: {\n    start: {\n      type: [Number, String],\n      default: 1,\n    },\n    modelValue: {\n      type: Number,\n      default: (props: any) => props.start,\n    },\n    disabled: Boolean,\n    length: {\n      type: [Number, String],\n      default: 1,\n      validator: (val: number) => val % 1 === 0,\n    },\n    totalVisible: [Number, String],\n    firstIcon: {\n      type: String,\n      default: '$first',\n    },\n    prevIcon: {\n      type: String,\n      default: '$prev',\n    },\n    nextIcon: {\n      type: String,\n      default: '$next',\n    },\n    lastIcon: {\n      type: String,\n      default: '$last',\n    },\n    ariaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.root',\n    },\n    pageAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.page',\n    },\n    currentPageAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.currentPage',\n    },\n    firstAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.first',\n    },\n    previousAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.previous',\n    },\n    nextAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.next',\n    },\n    lastAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.last',\n    },\n    ellipsis: {\n      type: String,\n      default: '...',\n    },\n    showFirstLastPage: Boolean,\n\n    ...makeRoundedProps(),\n    ...makeBorderProps(),\n    ...makeDensityProps(),\n    ...makeElevationProps(),\n    ...makeSizeProps(),\n    ...makeTagProps({ tag: 'nav' }),\n    ...makeThemeProps(),\n    ...makeVariantProps({ variant: 'text' } as const),\n  },\n\n  emits: {\n    'update:modelValue': (value: number) => true,\n    first: (value: number) => true,\n    prev: (value: number) => true,\n    next: (value: number) => true,\n    last: (value: number) => true,\n  },\n\n  setup (props, { slots, emit }) {\n    const page = useProxiedModel(props, 'modelValue')\n    const { t, n } = useLocale()\n    const { isRtl } = useRtl()\n    const { themeClasses } = provideTheme(props)\n    const maxButtons = ref(-1)\n\n    provideDefaults(undefined, { scoped: true })\n\n    const { resizeRef } = useResizeObserver((entries: ResizeObserverEntry[]) => {\n      if (!entries.length) return\n\n      const { target, contentRect } = entries[0]\n\n      const firstItem = target.querySelector('.v-pagination__list > *')\n\n      if (!firstItem) return\n\n      const totalWidth = contentRect.width\n      const itemWidth = firstItem.getBoundingClientRect().width + 10\n\n      maxButtons.value = Math.max(0, Math.floor((totalWidth - 96) / itemWidth))\n    })\n\n    const length = computed(() => parseInt(props.length, 10))\n    const start = computed(() => parseInt(props.start, 10))\n\n    const totalVisible = computed(() => {\n      if (props.totalVisible) return Math.min(parseInt(props.totalVisible ?? '', 10), length.value)\n      else if (maxButtons.value >= 0) return maxButtons.value\n      return length.value\n    })\n\n    const range = computed(() => {\n      if (length.value <= 0) return []\n\n      if (totalVisible.value <= 3) {\n        return [Math.min(Math.max(start.value, page.value), start.value + length.value)]\n      }\n\n      if (props.length <= totalVisible.value) {\n        return createRange(length.value, start.value)\n      }\n\n      const middle = Math.ceil(totalVisible.value / 2)\n      const left = middle\n      const right = length.value - middle\n\n      if (page.value < left) {\n        return [...createRange(Math.max(1, totalVisible.value - 2), start.value), props.ellipsis, length.value]\n      } else if (page.value > right) {\n        const rangeLength = totalVisible.value - 2\n        const rangeStart = length.value - rangeLength + start.value\n        return [start.value, props.ellipsis, ...createRange(rangeLength, rangeStart)]\n      } else {\n        const rangeLength = Math.max(1, totalVisible.value - 4)\n        const rangeStart = rangeLength === 1 ? page.value : page.value - Math.ceil(rangeLength / 2) + start.value\n        return [start.value, props.ellipsis, ...createRange(rangeLength, rangeStart), props.ellipsis, length.value]\n      }\n    })\n\n    // TODO: 'first' | 'prev' | 'next' | 'last' does not work here?\n    function setValue (e: Event, value: number, event?: any) {\n      e.preventDefault()\n      page.value = value\n      event && emit(event, value)\n    }\n\n    const { refs, updateRef } = useRefs<ComponentPublicInstance>()\n\n    provideDefaults({\n      VBtn: {\n        border: toRef(props, 'border'),\n        density: toRef(props, 'density'),\n        size: toRef(props, 'size'),\n        variant: toRef(props, 'variant'),\n      },\n    })\n\n    const items = computed(() => {\n      return range.value.map((item, index) => {\n        const ref = (e: any) => updateRef(e, index)\n\n        if (typeof item === 'string') {\n          return {\n            isActive: false,\n            page: item,\n            props: {\n              ref,\n              ellipsis: true,\n              icon: true,\n              disabled: true,\n            },\n          }\n        } else {\n          const isActive = item === page.value\n          return {\n            isActive,\n            page: n(item),\n            props: {\n              ref,\n              ellipsis: false,\n              icon: true,\n              disabled: !!props.disabled || props.length < 2,\n              elevation: props.elevation,\n              rounded: props.rounded,\n              color: isActive ? props.color : undefined,\n              ariaCurrent: isActive,\n              ariaLabel: t(isActive ? props.currentPageAriaLabel : props.pageAriaLabel, index + 1),\n              onClick: (e: Event) => setValue(e, item),\n            },\n          }\n        }\n      })\n    })\n\n    const controls = computed(() => {\n      const prevDisabled = !!props.disabled || page.value <= start.value\n      const nextDisabled = !!props.disabled || page.value >= start.value + length.value - 1\n\n      return {\n        first: props.showFirstLastPage ? {\n          icon: isRtl.value ? props.lastIcon : props.firstIcon,\n          onClick: (e: Event) => setValue(e, start.value, 'first'),\n          disabled: prevDisabled,\n          ariaLabel: t(props.firstAriaLabel),\n          ariaDisabled: prevDisabled,\n        } : undefined,\n        prev: {\n          icon: isRtl.value ? props.nextIcon : props.prevIcon,\n          onClick: (e: Event) => setValue(e, page.value - 1, 'prev'),\n          disabled: prevDisabled,\n          ariaLabel: t(props.previousAriaLabel),\n          ariaDisabled: prevDisabled,\n        },\n        next: {\n          icon: isRtl.value ? props.prevIcon : props.nextIcon,\n          onClick: (e: Event) => setValue(e, page.value + 1, 'next'),\n          disabled: nextDisabled,\n          ariaLabel: t(props.nextAriaLabel),\n          ariaDisabled: nextDisabled,\n        },\n        last: props.showFirstLastPage ? {\n          icon: isRtl.value ? props.firstIcon : props.lastIcon,\n          onClick: (e: Event) => setValue(e, start.value + length.value - 1, 'last'),\n          disabled: nextDisabled,\n          ariaLabel: t(props.lastAriaLabel),\n          ariaDisabled: nextDisabled,\n        } : undefined,\n      }\n    })\n\n    function updateFocus () {\n      const currentIndex = page.value - start.value\n      refs.value[currentIndex]?.$el.focus()\n    }\n\n    function onKeydown (e: KeyboardEvent) {\n      if (e.key === keyValues.left && !props.disabled && page.value > props.start) {\n        page.value = page.value - 1\n        nextTick(updateFocus)\n      } else if (e.key === keyValues.right && !props.disabled && page.value < start.value + length.value - 1) {\n        page.value = page.value + 1\n        nextTick(updateFocus)\n      }\n    }\n\n    return () => (\n      <props.tag\n        ref={ resizeRef }\n        class={[\n          'v-pagination',\n          themeClasses.value,\n        ]}\n        role=\"navigation\"\n        aria-label={ t(props.ariaLabel) }\n        onKeydown={ onKeydown }\n        data-test=\"v-pagination-root\"\n      >\n        <ul class=\"v-pagination__list\">\n          { props.showFirstLastPage && (\n            <li class=\"v-pagination__first\" data-test=\"v-pagination-first\">\n              { slots.first ? slots.first(controls.value.first) : (\n                <VBtn {...controls.value.first} />\n              ) }\n            </li>\n          ) }\n\n          <li class=\"v-pagination__prev\" data-test=\"v-pagination-prev\">\n            { slots.prev ? slots.prev(controls.value.prev) : (\n              <VBtn {...controls.value.prev} />\n            ) }\n          </li>\n\n          { items.value.map((item, index) => (\n            <li\n              key={ `${index}_${item.page}` }\n              class={[\n                'v-pagination__item',\n                {\n                  'v-pagination__item--is-active': item.isActive,\n                },\n              ]}\n              data-test=\"v-pagination-item\"\n            >\n              { slots.item ? slots.item(item) : (\n                <VBtn {...item.props}>{ item.page }</VBtn>\n              ) }\n            </li>\n          )) }\n\n          <li class=\"v-pagination__next\" data-test=\"v-pagination-next\">\n            { slots.next ? slots.next(controls.value.next) : (\n              <VBtn {...controls.value.next} />\n            ) }\n          </li>\n\n          { props.showFirstLastPage && (\n            <li class=\"v-pagination__last\" data-test=\"v-pagination-last\">\n              { slots.last ? slots.last(controls.value.last) : (\n                <VBtn {...controls.value.last} />\n              ) }\n            </li>\n          ) }\n        </ul>\n      </props.tag>\n    )\n  },\n})\n\nexport type VPagination = InstanceType<typeof VPagination>\n"]},"metadata":{},"sourceType":"module"}