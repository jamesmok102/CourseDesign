{"ast":null,"code":"import { onMounted, ref, watch, toRefs, reactive } from \"vue\";\nimport { insertSaler } from \"../../../../network/saler\";\nimport { useRoute } from \"vue-router\";\nexport default {\n  name: \"adminEditSaler\",\n\n  setup() {\n    let route = useRoute;\n    let id = route.query.id;\n    let form = reactive({\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      phone: \"\"\n    });\n    let valid = true;\n    let nameRules = [v => !!v || 'Name is required', v => v && v.length <= 10 || 'Name must be less than 10 characters'];\n    let emailRules = [v => !!v || 'E-mail is required', v => /.+@.+\\..+/.test(v) || 'E-mail must be valid'];\n    let passwordRules = [v => !!v || 'E-mail is required'];\n    let phoneRules = [v => !!v || 'Name is required', v => v && v.length !== 11 || 'Name must be less than 10 characters'];\n\n    const validate = () => {// insertSaler(form).then(res=>{\n      //   let status = res.data.status;\n      //   console.log(res);\n      //   console.log(res.data.status);\n      //   if (status === 1) {\n      //     insertSuccess.value = true;\n      //     setTimeout(()=>{\n      //       insertSuccess.value = false;\n      //     }, 1000)\n      //   } else {\n      //     insertFailed.value = true;\n      //     setTimeout(()=>{\n      //       insertFailed.value = false;\n      //     }, 1000)\n      //   }\n      //   form.name = \"\"\n      //   form.email = \"\"\n      //   form.password = \"\"\n      //   form.phone = \"\"\n      // })\n    };\n\n    const init = () => {\n      getSalerById(id).then(res => {\n        form.name = res.data.name;\n        form.email = res.data.email;\n        form.password = res.data.password;\n        form.phone = res.data.phone;\n      });\n    };\n\n    onMounted(() => {});\n    return {\n      valid,\n      nameRules,\n      emailRules,\n      passwordRules,\n      phoneRules,\n      ...toRefs(form),\n      validate // insertSuccess,\n      // insertFailed,\n\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAuDA,SAAQA,SAAR,EAAmBC,GAAnB,EAAwBC,KAAxB,EAA+BC,MAA/B,EAAuCC,QAAvC,QAAsD,KAAtD;AACA,SAAQC,WAAR,QAA0B,2BAA1B;AACA,SAAQC,QAAR,QAAuB,YAAvB;AAEA,eAAe;AACbC,MAAI,EAAE,gBADO;;AAEbC,OAAK,GAAG;AAEN,QAAIC,KAAI,GAAIH,QAAZ;AACA,QAAII,EAAC,GAAID,KAAK,CAACE,KAAN,CAAYD,EAArB;AAEA,QAAIE,IAAG,GAAIR,QAAQ,CAAC;AAClBG,UAAI,EAAE,EADY;AAElBM,WAAK,EAAE,EAFW;AAGlBC,cAAQ,EAAE,EAHQ;AAIlBC,WAAK,EAAE;AAJW,KAAD,CAAnB;AAOA,QAAIC,KAAI,GAAI,IAAZ;AACA,QAAIC,SAAQ,GAAI,CACdC,KAAK,CAAC,CAACA,CAAF,IAAO,kBADE,EAEdA,KAAMA,KAAKA,CAAC,CAACC,MAAF,IAAY,EAAlB,IAAyB,sCAFhB,CAAhB;AAIA,QAAIC,UAAS,GAAI,CACfF,KAAK,CAAC,CAACA,CAAF,IAAO,oBADG,EAEfA,KAAK,YAAYG,IAAZ,CAAiBH,CAAjB,KAAuB,sBAFb,CAAjB;AAIA,QAAII,aAAY,GAAI,CAClBJ,KAAK,CAAC,CAACA,CAAF,IAAO,oBADM,CAApB;AAGA,QAAIK,UAAS,GAAI,CACfL,KAAK,CAAC,CAACA,CAAF,IAAO,kBADG,EAEfA,KAAMA,KAAKA,CAAC,CAACC,MAAF,KAAa,EAAnB,IAA0B,sCAFhB,CAAjB;;AAKA,UAAMK,QAAO,GAAI,MAAM,CACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF,KArBA;;AAuBA,UAAMC,IAAG,GAAI,MAAM;AACjBC,kBAAY,CAAChB,EAAD,CAAZ,CAAiBiB,IAAjB,CAAsBC,GAAG,IAAE;AACzBhB,YAAI,CAACL,IAAL,GAAYqB,GAAG,CAACC,IAAJ,CAAStB,IAArB;AACAK,YAAI,CAACC,KAAL,GAAae,GAAG,CAACC,IAAJ,CAAShB,KAAtB;AACAD,YAAI,CAACE,QAAL,GAAgBc,GAAG,CAACC,IAAJ,CAASf,QAAzB;AACAF,YAAI,CAACG,KAAL,GAAaa,GAAG,CAACC,IAAJ,CAASd,KAAtB;AACD,OALD;AAMF,KAPA;;AASAf,aAAS,CAAC,MAAI,CAEb,CAFQ,CAAT;AAIA,WAAO;AACLgB,WADK;AAELC,eAFK;AAGLG,gBAHK;AAILE,mBAJK;AAKLC,gBALK;AAML,SAAGpB,MAAM,CAACS,IAAD,CANJ;AAOLY,cAPK,CAQL;AACA;;AATK,KAAP;AAWF;;AA9Ea,CAAf","names":["onMounted","ref","watch","toRefs","reactive","insertSaler","useRoute","name","setup","route","id","query","form","email","password","phone","valid","nameRules","v","length","emailRules","test","passwordRules","phoneRules","validate","init","getSalerById","then","res","data"],"sourceRoot":"","sources":["C:\\Users\\tpmp1\\Desktop\\vue-project\\minishop\\src\\views\\back\\admin\\adminEditSaler.vue"],"sourcesContent":["<template>\r\n  <v-card style=\"height: 200px;\" color=\"#1F8A70\">\r\n    <v-card-title class=\"text-h4 font-weight-black text-white mt-6 ml-4\">销售人员增加</v-card-title>\r\n    <v-card-subtitle class=\"text-h6 font-weight-black text-white mt-4 ml-4\">\r\n      在此可以编辑销售人员的各种信息\r\n    </v-card-subtitle>\r\n    <v-card-text>\r\n<!--      <v-btn-->\r\n<!--          color=\"#004358\"-->\r\n<!--          class=\"font-weight-black text-white mt-2 ml-4\"-->\r\n<!--          plain-->\r\n<!--          @click=\"validate\"-->\r\n<!--      >-->\r\n<!--        <v-icon>mdi-account-plus</v-icon>-->\r\n<!--        增加成员-->\r\n<!--      </v-btn>-->\r\n    </v-card-text>\r\n  </v-card>\r\n  <v-card class=\"mt-6\">\r\n    <v-form\r\n        v-model=\"valid\"\r\n        lazy-validation\r\n        class=\"ma-6\"\r\n    >\r\n      <v-text-field\r\n          v-model=\"name\"\r\n          :counter=\"10\"\r\n          :rules=\"nameRules\"\r\n          label=\"Name\"\r\n          required\r\n      ></v-text-field>\r\n      <v-text-field\r\n          v-model=\"email\"\r\n          :rules=\"emailRules\"\r\n          label=\"E-mail\"\r\n          required\r\n      ></v-text-field>\r\n      <v-text-field\r\n          v-model=\"password\"\r\n          :rules=\"passwordRules\"\r\n          label=\"Password\"\r\n          required\r\n      ></v-text-field>\r\n      <v-text-field\r\n          v-model=\"phone\"\r\n          :rules=\"phoneRules\"\r\n          label=\"Phone\"\r\n          required\r\n      ></v-text-field>\r\n    </v-form>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {onMounted, ref, watch, toRefs, reactive} from \"vue\";\r\nimport {insertSaler} from \"../../../../network/saler\";\r\nimport {useRoute} from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"adminEditSaler\",\r\n  setup() {\r\n\r\n    let route = useRoute;\r\n    let id = route.query.id;\r\n\r\n    let form = reactive({\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      phone: \"\",\r\n    })\r\n\r\n    let valid = true\r\n    let nameRules = [\r\n      v => !!v || 'Name is required',\r\n      v => (v && v.length <= 10) || 'Name must be less than 10 characters',\r\n    ]\r\n    let emailRules = [\r\n      v => !!v || 'E-mail is required',\r\n      v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\r\n    ]\r\n    let passwordRules = [\r\n      v => !!v || 'E-mail is required',\r\n    ]\r\n    let phoneRules = [\r\n      v => !!v || 'Name is required',\r\n      v => (v && v.length !== 11) || 'Name must be less than 10 characters',\r\n    ]\r\n\r\n    const validate = () => {\r\n      // insertSaler(form).then(res=>{\r\n      //   let status = res.data.status;\r\n      //   console.log(res);\r\n      //   console.log(res.data.status);\r\n      //   if (status === 1) {\r\n      //     insertSuccess.value = true;\r\n      //     setTimeout(()=>{\r\n      //       insertSuccess.value = false;\r\n      //     }, 1000)\r\n      //   } else {\r\n      //     insertFailed.value = true;\r\n      //     setTimeout(()=>{\r\n      //       insertFailed.value = false;\r\n      //     }, 1000)\r\n      //   }\r\n      //   form.name = \"\"\r\n      //   form.email = \"\"\r\n      //   form.password = \"\"\r\n      //   form.phone = \"\"\r\n      // })\r\n    }\r\n\r\n    const init = () => {\r\n      getSalerById(id).then(res=>{\r\n        form.name = res.data.name\r\n        form.email = res.data.email\r\n        form.password = res.data.password\r\n        form.phone = res.data.phone\r\n      })\r\n    }\r\n\r\n    onMounted(()=>{\r\n\r\n    })\r\n\r\n    return {\r\n      valid,\r\n      nameRules,\r\n      emailRules,\r\n      passwordRules,\r\n      phoneRules,\r\n      ...toRefs(form),\r\n      validate,\r\n      // insertSuccess,\r\n      // insertFailed,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}