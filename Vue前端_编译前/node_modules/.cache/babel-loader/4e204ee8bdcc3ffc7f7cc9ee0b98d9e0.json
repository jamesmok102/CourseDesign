{"ast":null,"code":"import { useRouter } from \"vue-router\";\nimport { onMounted, ref, watch } from \"vue\";\nimport { getGoodAllForUser } from \"../../../network/good\";\nexport default {\n  name: \"AllGood\",\n\n  setup() {\n    let router = useRouter();\n    let page = ref(1);\n    let desserts = ref([]);\n    let pageLength = ref(1);\n    let pageSize = ref(1);\n    let pageTotal = ref(1);\n    onMounted(() => {\n      init();\n    });\n\n    const init = () => {\n      getGoodAllForUser(page.value).then(res => {\n        desserts.value = res.data.data;\n        pageLength.value = res.data.PageLength;\n        pageSize.value = res.data.PageSize;\n        pageTotal.value = res.data.PageTotal;\n        console.log(desserts.value);\n      });\n    };\n\n    const toDetail = id => {\n      router.push({\n        path: \"gooddetail\",\n        query: {\n          id: id\n        }\n      });\n    };\n\n    watch(page, async (newPage, oldPage) => {\n      init();\n    });\n    return {\n      desserts,\n      page,\n      pageLength,\n      pageSize,\n      toDetail\n    };\n  }\n\n};","map":{"version":3,"mappings":"AA+DA,SAAQA,SAAR,QAAwB,YAAxB;AACA,SAAQC,SAAR,EAAmBC,GAAnB,EAAwBC,KAAxB,QAAoC,KAApC;AACA,SAAQC,iBAAR,QAAgC,uBAAhC;AAEA,eAAe;AACbC,MAAI,EAAE,SADO;;AAEbC,OAAK,GAAG;AACN,QAAIC,MAAK,GAAIP,SAAS,EAAtB;AACA,QAAIQ,IAAG,GAAIN,GAAG,CAAC,CAAD,CAAd;AACA,QAAIO,QAAO,GAAIP,GAAG,CAAC,EAAD,CAAlB;AACA,QAAIQ,UAAS,GAAIR,GAAG,CAAC,CAAD,CAApB;AACA,QAAIS,QAAO,GAAIT,GAAG,CAAC,CAAD,CAAlB;AACA,QAAIU,SAAQ,GAAIV,GAAG,CAAC,CAAD,CAAnB;AAEAD,aAAS,CAAC,MAAI;AACZY,UAAI;AACL,KAFQ,CAAT;;AAIA,UAAMA,IAAG,GAAI,MAAM;AACjBT,uBAAiB,CAACI,IAAI,CAACM,KAAN,CAAjB,CAA8BC,IAA9B,CAAmCC,GAAG,IAAE;AACtCP,gBAAQ,CAACK,KAAT,GAAiBE,GAAG,CAACC,IAAJ,CAASA,IAA1B;AACAP,kBAAU,CAACI,KAAX,GAAmBE,GAAG,CAACC,IAAJ,CAASC,UAA5B;AACAP,gBAAQ,CAACG,KAAT,GAAiBE,GAAG,CAACC,IAAJ,CAASE,QAA1B;AACAP,iBAAS,CAACE,KAAV,GAAkBE,GAAG,CAACC,IAAJ,CAASG,SAA3B;AACAC,eAAO,CAACC,GAAR,CAAYb,QAAQ,CAACK,KAArB;AACD,OAND;AAOF,KARA;;AAUA,UAAMS,QAAO,GAAKC,EAAD,IAAQ;AACvBjB,YAAM,CAACkB,IAAP,CAAY;AAACC,YAAI,EAAE,YAAP;AAAqBC,aAAK,EAAE;AAACH,YAAE,EAAEA;AAAL;AAA5B,OAAZ;AACF,KAFA;;AAIArB,SAAK,CAACK,IAAD,EAAO,OAAMoB,OAAN,EAAeC,OAAf,KAA2B;AACrChB,UAAI;AACL,KAFI,CAAL;AAIA,WAAO;AACLJ,cADK;AAELD,UAFK;AAGLE,gBAHK;AAILC,cAJK;AAKLY;AALK,KAAP;AAQF;;AAxCa,CAAf","names":["useRouter","onMounted","ref","watch","getGoodAllForUser","name","setup","router","page","desserts","pageLength","pageSize","pageTotal","init","value","then","res","data","PageLength","PageSize","PageTotal","console","log","toDetail","id","push","path","query","newPage","oldPage"],"sourceRoot":"","sources":["C:\\Users\\tpmp1\\Desktop\\vue-project\\minishop\\src\\views\\front\\AllGood.vue"],"sourcesContent":["<template>\r\n  <v-card style=\"height: 200px;\" color=\"#BF6211\">\r\n    <v-card-title class=\"text-h4 font-weight-black text-white mt-6 ml-4\">所有商品</v-card-title>\r\n    <v-card-subtitle class=\"text-h6 font-weight-black text-white mt-4 ml-4\">\r\n      这里列出了所有的商品\r\n    </v-card-subtitle>\r\n    <v-card-text>\r\n\r\n    </v-card-text>\r\n  </v-card>\r\n\r\n  <div class=\"wrapper\">\r\n    <div class=\"wrapper-content\" v-for=\"(item, index) in desserts\">\r\n      <v-card\r\n          class=\"mx-auto ma-2 mt-4\"\r\n          max-width=\"344\"\r\n          height=\"350px\"\r\n      >\r\n<!--        <v-img-->\r\n<!--            :src=\"'http://localhost:8081/queryGoodImg/'+item.id\"-->\r\n<!--            height=\"200px\"-->\r\n<!--            cover-->\r\n<!--        ></v-img>-->\r\n        <div style=\"height: 200px;\">\r\n          <img :src=\"'http://1.12.253.71:8081/queryGoodImg/'+item.id\" style=\"height: 100%;width: 100%;object-fit:cover;\">\r\n        </div>\r\n\r\n\r\n        <v-card-title>\r\n          {{item.name}}\r\n        </v-card-title>\r\n\r\n        <v-card-subtitle>\r\n          {{ item.item }} ${{item.price}}\r\n        </v-card-subtitle>\r\n\r\n        <v-btn\r\n            color=\"#f28f16\"\r\n            class=\"font-weight-black text-white mt-2 ml-4\"\r\n            plain\r\n            @click=\"toDetail(item.id)\"\r\n        >\r\n          <v-icon>mdi-briefcase-search</v-icon>\r\n          查看详情\r\n        </v-btn>\r\n\r\n      </v-card>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"float-right mt-2\">\r\n    <v-pagination\r\n        v-model=\"page\"\r\n        :length=\"pageLength\"\r\n        total-visible=\"10\"\r\n        rounded=\"circle\"\r\n\r\n    ></v-pagination>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from \"vue-router\";\r\nimport {onMounted, ref, watch} from \"vue\";\r\nimport {getGoodAllForUser} from \"../../../network/good\";\r\n\r\nexport default {\r\n  name: \"AllGood\",\r\n  setup() {\r\n    let router = useRouter();\r\n    let page = ref(1);\r\n    let desserts = ref([]);\r\n    let pageLength = ref(1);\r\n    let pageSize = ref(1);\r\n    let pageTotal = ref(1);\r\n\r\n    onMounted(()=>{\r\n      init()\r\n    })\r\n\r\n    const init = () => {\r\n      getGoodAllForUser(page.value).then(res=>{\r\n        desserts.value = res.data.data;\r\n        pageLength.value = res.data.PageLength;\r\n        pageSize.value = res.data.PageSize;\r\n        pageTotal.value = res.data.PageTotal;\r\n        console.log(desserts.value);\r\n      })\r\n    }\r\n\r\n    const toDetail = (id) => {\r\n      router.push({path: \"gooddetail\", query: {id: id}})\r\n    }\r\n\r\n    watch(page, async(newPage, oldPage) => {\r\n      init()\r\n    })\r\n\r\n    return {\r\n      desserts,\r\n      page,\r\n      pageLength,\r\n      pageSize,\r\n      toDetail,\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrapper{\r\n  width: 50%;\r\n  height: auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n}\r\n.wrapper-content{\r\n  width: 33%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}