{"ast":null,"code":"import { ref } from \"vue\";\nimport { insertCategory } from \"../../../../network/category\";\nimport { reactive, toRefs } from \"vue\";\nexport default {\n  name: \"salerInsertCategory\",\n\n  setup() {\n    let insertSuccess = ref(false);\n    let insertFailed = ref(false);\n    let valid = true;\n    let form = reactive({\n      category: \"\"\n    });\n    let categoryRules = [v => !!v || 'Name is required', v => v && v.length <= 10 || 'Name must be less than 10 characters'];\n\n    const validate = () => {\n      insertCategory(form).then(res => {\n        let status = res.data.status;\n\n        if (status === 1) {\n          insertSuccess.value = true;\n          setTimeout(() => {\n            insertSuccess.value = false;\n          }, 1000);\n        } else {\n          insertFailed.value = true;\n          setTimeout(() => {\n            insertFailed.value = false;\n          }, 1000);\n        }\n\n        form.category = \"\";\n      });\n    };\n\n    return { ...toRefs(form),\n      insertFailed,\n      insertSuccess,\n      categoryRules,\n      validate,\n      valid\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAsCA,SAAQA,GAAR,QAAkB,KAAlB;AACA,SAAQC,cAAR,QAA6B,8BAA7B;AACA,SAAQC,QAAR,EAAkBC,MAAlB,QAA+B,KAA/B;AAEA,eAAe;AACbC,MAAI,EAAE,qBADO;;AAEbC,OAAK,GAAG;AACN,QAAIC,aAAY,GAAIN,GAAG,CAAC,KAAD,CAAvB;AACA,QAAIO,YAAW,GAAIP,GAAG,CAAC,KAAD,CAAtB;AACA,QAAIQ,KAAI,GAAI,IAAZ;AACA,QAAIC,IAAG,GAAIP,QAAQ,CAAC;AAClBQ,cAAQ,EAAE;AADQ,KAAD,CAAnB;AAGA,QAAIC,aAAY,GAAI,CAClBC,KAAK,CAAC,CAACA,CAAF,IAAO,kBADM,EAElBA,KAAMA,KAAKA,CAAC,CAACC,MAAF,IAAY,EAAlB,IAAyB,sCAFZ,CAApB;;AAIA,UAAMC,QAAO,GAAI,MAAM;AACrBb,oBAAc,CAACQ,IAAD,CAAd,CAAqBM,IAArB,CAA0BC,GAAG,IAAE;AAC7B,YAAIC,MAAK,GAAID,GAAG,CAACE,IAAJ,CAASD,MAAtB;;AACA,YAAIA,MAAK,KAAM,CAAf,EAAkB;AAChBX,uBAAa,CAACa,KAAd,GAAsB,IAAtB;AACAC,oBAAU,CAAC,MAAI;AACbd,yBAAa,CAACa,KAAd,GAAsB,KAAtB;AACD,WAFS,EAEP,IAFO,CAAV;AAGF,SALA,MAKO;AACLZ,sBAAY,CAACY,KAAb,GAAqB,IAArB;AACAC,oBAAU,CAAC,MAAI;AACbb,wBAAY,CAACY,KAAb,GAAqB,KAArB;AACD,WAFS,EAEP,IAFO,CAAV;AAGF;;AACAV,YAAI,CAACC,QAAL,GAAgB,EAAhB;AACD,OAdD;AAeF,KAhBA;;AAiBA,WAAO,EACL,GAAGP,MAAM,CAACM,IAAD,CADJ;AAELF,kBAFK;AAGLD,mBAHK;AAILK,mBAJK;AAKLG,cALK;AAMLN;AANK,KAAP;AAQF;;AAtCa,CAAf","names":["ref","insertCategory","reactive","toRefs","name","setup","insertSuccess","insertFailed","valid","form","category","categoryRules","v","length","validate","then","res","status","data","value","setTimeout"],"sourceRoot":"","sources":["C:\\Users\\tpmp1\\Desktop\\vue-project\\minishop\\src\\views\\back\\saler\\salerInsertCategory.vue"],"sourcesContent":["<template>\r\n  <v-card style=\"height: 200px;\" color=\"#4480A6\">\r\n    <v-card-title class=\"text-h4 font-weight-black text-white mt-6 ml-4\">商品分类增加</v-card-title>\r\n    <v-card-subtitle class=\"text-h6 font-weight-black text-white mt-4 ml-4\">\r\n      把自已想要的分类写好，再按一下确定，一劳永逸\r\n    </v-card-subtitle>\r\n    <v-card-text>\r\n      <v-btn\r\n          color=\"#263F73\"\r\n          class=\"font-weight-black text-white mt-2 ml-4\"\r\n          plain\r\n          @click=\"validate\"\r\n      >\r\n        <v-icon>mdi-bookmark-plus</v-icon>\r\n        增加分类\r\n      </v-btn>\r\n    </v-card-text>\r\n  </v-card>\r\n  <v-card class=\"mt-6\">\r\n    <v-form\r\n        v-model=\"valid\"\r\n        lazy-validation\r\n        class=\"ma-6\"\r\n    >\r\n      <v-text-field\r\n          v-model=\"category\"\r\n          :counter=\"10\"\r\n          :rules=\"categoryRules\"\r\n          label=\"Category\"\r\n          required\r\n      ></v-text-field>\r\n    </v-form>\r\n  </v-card>\r\n  <v-snackbar v-model=\"insertSuccess.value\">增加成功</v-snackbar>\r\n  <v-snackbar v-model=\"insertFailed.value\">增加失败</v-snackbar>\r\n</template>\r\n\r\n<script>\r\nimport {ref} from \"vue\";\r\nimport {insertCategory} from \"../../../../network/category\";\r\nimport {reactive, toRefs} from \"vue\";\r\n\r\nexport default {\r\n  name: \"salerInsertCategory\",\r\n  setup() {\r\n    let insertSuccess = ref(false);\r\n    let insertFailed = ref(false);\r\n    let valid = true\r\n    let form = reactive({\r\n      category: \"\"\r\n    })\r\n    let categoryRules = [\r\n      v => !!v || 'Name is required',\r\n      v => (v && v.length <= 10) || 'Name must be less than 10 characters',\r\n    ]\r\n    const validate = () => {\r\n      insertCategory(form).then(res=>{\r\n        let status = res.data.status;\r\n        if (status === 1) {\r\n          insertSuccess.value = true;\r\n          setTimeout(()=>{\r\n            insertSuccess.value = false;\r\n          }, 1000)\r\n        } else {\r\n          insertFailed.value = true;\r\n          setTimeout(()=>{\r\n            insertFailed.value = false;\r\n          }, 1000)\r\n        }\r\n        form.category = \"\"\r\n      })\r\n    }\r\n    return {\r\n      ...toRefs(form),\r\n      insertFailed,\r\n      insertSuccess,\r\n      categoryRules,\r\n      validate,\r\n      valid,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}