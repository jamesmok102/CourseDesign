{"ast":null,"code":"import { reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport store from \"@/store\";\nimport { insertLogRecord } from \"../../../../network/logRecord\";\nimport { getSalerById_forSaler } from \"../../../../network/saler\";\nexport default {\n  name: \"salerMain\",\n\n  setup() {\n    let drawer = ref(false);\n    let mainpage = reactive([['主页', 'mdi-home-search']]);\n    const router = useRouter();\n    let title = ref(\"Saler\");\n\n    const logout = () => {\n      window.localStorage.setItem('JWT_Saler_Token', '');\n      store.commit('setSalerIsLogin', false);\n      getSalerById_forSaler(store.state.saler.id).then(res => {\n        let form = {\n          state: \"登出\",\n          role: \"销售员\",\n          name: \"\"\n        };\n        form.name = res.data.name;\n        insertLogRecord(form).then(res => {\n          console.log(form);\n        });\n      });\n      store.commit('setSalerId', \"\");\n      router.push({\n        path: '/salerlogin'\n      });\n    }; // getSalerById_forSaler(store.state.saler.id).then(res=>{\n    //   title.value = res.data.name\n    // })\n\n\n    return {\n      drawer,\n      mainpage,\n      router,\n      logout,\n      title\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAiIA,SAAQA,QAAR,EAAkBC,GAAlB,QAA4B,KAA5B;AACA,SAAQC,SAAR,QAAwB,YAAxB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,SAAQC,eAAR,QAA8B,+BAA9B;AACA,SAAQC,qBAAR,QAAoC,2BAApC;AAEA,eAAe;AACbC,MAAI,EAAE,WADO;;AAEbC,OAAK,GAAG;AACN,QAAIC,MAAK,GAAIP,GAAG,CAAC,KAAD,CAAhB;AACA,QAAIQ,QAAO,GAAIT,QAAQ,CAAC,CACtB,CAAC,IAAD,EAAO,iBAAP,CADsB,CAAD,CAAvB;AAGA,UAAMU,MAAK,GAAIR,SAAS,EAAxB;AACA,QAAIS,KAAI,GAAIV,GAAG,CAAC,OAAD,CAAf;;AAEA,UAAMW,MAAK,GAAI,MAAM;AACnBC,YAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,iBAA5B,EAA+C,EAA/C;AACAZ,WAAK,CAACa,MAAN,CAAa,iBAAb,EAAgC,KAAhC;AAEAX,2BAAqB,CAACF,KAAK,CAACc,KAAN,CAAYC,KAAZ,CAAkBC,EAAnB,CAArB,CAA4CC,IAA5C,CAAiDC,GAAG,IAAE;AACpD,YAAIC,IAAG,GAAI;AACTL,eAAK,EAAE,IADE;AAETM,cAAI,EAAE,KAFG;AAGTjB,cAAI,EAAE;AAHG,SAAX;AAKAgB,YAAI,CAAChB,IAAL,GAAYe,GAAG,CAACG,IAAJ,CAASlB,IAArB;AACAF,uBAAe,CAACkB,IAAD,CAAf,CAAsBF,IAAtB,CAA2BC,GAAG,IAAE;AAC9BI,iBAAO,CAACC,GAAR,CAAYJ,IAAZ;AACD,SAFD;AAGD,OAVD;AAYAnB,WAAK,CAACa,MAAN,CAAa,YAAb,EAA2B,EAA3B;AACAN,YAAM,CAACiB,IAAP,CAAY;AAACC,YAAI,EAAC;AAAN,OAAZ;AACF,KAlBA,CARM,CA4BN;AACA;AACA;;;AAEA,WAAO;AACLpB,YADK;AAELC,cAFK;AAGLC,YAHK;AAILE,YAJK;AAKLD;AALK,KAAP;AAOF;;AAzCa,CAAf","names":["reactive","ref","useRouter","store","insertLogRecord","getSalerById_forSaler","name","setup","drawer","mainpage","router","title","logout","window","localStorage","setItem","commit","state","saler","id","then","res","form","role","data","console","log","push","path"],"sourceRoot":"","sources":["C:\\Users\\tpmp1\\Desktop\\vue-project\\minishop\\src\\views\\back\\saler\\salerMain.vue"],"sourcesContent":["<template>\r\n  <v-app>\r\n    <v-navigation-drawer app v-model=\"drawer\">\r\n\r\n      <template v-slot:prepend>\r\n        <v-list-item\r\n            two-line\r\n            prepend-avatar=\"https://randomuser.me/api/portraits/women/81.jpg\"\r\n            title=\"Admin\"\r\n            subtitle=\"已登入\"\r\n            style=\"padding-bottom: 16px;\"\r\n        ></v-list-item>\r\n      </template>\r\n\r\n      <v-divider></v-divider>\r\n\r\n      <v-list v-model:opened=\"Main\" nav density=\"compact\">\r\n        <v-list-group>\r\n          <template v-slot:activator=\"{ props }\">\r\n            <v-list-item v-bind=\"props\" title=\"主页\" value=\"Main\" prepend-icon=\"mdi-home\"></v-list-item>\r\n          </template>\r\n\r\n          <v-list-item\r\n              v-for=\"([title, icon], i) in mainpage\"\r\n              :key=\"i\"\r\n              :value=\"title\"\r\n              :title=\"title\"\r\n              :prepend-icon=\"icon\"\r\n          ></v-list-item>\r\n        </v-list-group>\r\n      </v-list>\r\n\r\n      <v-list v-model:opened=\"Category\" nav density=\"compact\">\r\n        <v-list-group>\r\n\r\n          <template v-slot:activator=\"{ props }\">\r\n            <v-list-item v-bind=\"props\" title=\"商品分类\" value=\"Category\" prepend-icon=\"mdi-bookmark-multiple\"></v-list-item>\r\n          </template>\r\n          <v-list-item\r\n              title=\"分类查询\"\r\n              value=\"分类查询\"\r\n              prepend-icon=\"mdi-bookmark-check\"\r\n              to=\"/salermanagecategory\">\r\n          </v-list-item>\r\n          <v-list-item\r\n              title=\"分类增加\"\r\n              value=\"分类增加\"\r\n              prepend-icon=\"mdi-bookmark-plus\"\r\n              to=\"/salerinsertcategory\">\r\n          </v-list-item>\r\n        </v-list-group>\r\n      </v-list>\r\n\r\n      <v-list v-model:opened=\"Good\" nav density=\"compact\">\r\n        <v-list-group>\r\n\r\n          <template v-slot:activator=\"{ props }\">\r\n            <v-list-item v-bind=\"props\" title=\"商品\" value=\"Good\" prepend-icon=\"mdi-basket\"></v-list-item>\r\n          </template>\r\n          <v-list-item\r\n              title=\"商品查询\"\r\n              value=\"商品查询\"\r\n              prepend-icon=\"mdi-basket-outline\"\r\n              to=\"/salermanagegood\">\r\n          </v-list-item>\r\n          <v-list-item\r\n              title=\"商品增加\"\r\n              value=\"商品增加\"\r\n              prepend-icon=\"mdi-basket-plus\"\r\n              to=\"/salerinsertgood\">\r\n          </v-list-item>\r\n        </v-list-group>\r\n      </v-list>\r\n\r\n      <v-list v-model:opened=\"user\" nav density=\"compact\">\r\n        <v-list-group>\r\n\r\n          <template v-slot:activator=\"{ props }\">\r\n            <v-list-item v-bind=\"props\" title=\"用户\" value=\"user\" prepend-icon=\"mdi-basket\"></v-list-item>\r\n          </template>\r\n          <v-list-item\r\n              title=\"用户查询\"\r\n              value=\"用户查询\"\r\n              prepend-icon=\"mdi-basket-outline\"\r\n              to=\"/salermanageuser\">\r\n          </v-list-item>\r\n          <v-list-item\r\n              title=\"用户增加\"\r\n              value=\"用户增加\"\r\n              prepend-icon=\"mdi-basket-plus\"\r\n              to=\"/salerinsertuser\">\r\n          </v-list-item>\r\n        </v-list-group>\r\n      </v-list>\r\n\r\n    </v-navigation-drawer>\r\n\r\n    <v-app-bar app color=\"#6456BF\">\r\n\r\n      <template v-slot:prepend>\r\n        <v-app-bar-nav-icon variant=\"text\" @click.stop=\"drawer = !drawer\" class=\"text-white\"></v-app-bar-nav-icon>\r\n      </template>\r\n\r\n      <v-app-bar-title class=\"text-white font-weight-black\">管理后台</v-app-bar-title>\r\n\r\n      <v-btn icon>\r\n        <v-icon class=\"text-white\" @click=\"logout\">mdi-exit-run</v-icon>\r\n      </v-btn>\r\n\r\n    </v-app-bar>\r\n\r\n    <!-- Sizes your content based upon application components -->\r\n    <v-main style=\"height: 100vh;\">\r\n\r\n      <!-- Provides the application the proper gutter -->\r\n      <v-container fluid>\r\n\r\n        <!-- If using vue-router -->\r\n        <router-view></router-view>\r\n      </v-container>\r\n    </v-main>\r\n\r\n    <v-footer app>\r\n      <!-- -->\r\n    </v-footer>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport {reactive, ref} from \"vue\";\r\nimport {useRouter} from \"vue-router\";\r\nimport store from \"@/store\";\r\n\r\nimport {insertLogRecord} from \"../../../../network/logRecord\";\r\nimport {getSalerById_forSaler} from \"../../../../network/saler\";\r\n\r\nexport default {\r\n  name: \"salerMain\",\r\n  setup() {\r\n    let drawer = ref(false);\r\n    let mainpage = reactive([\r\n      ['主页', 'mdi-home-search'],\r\n    ])\r\n    const router = useRouter();\r\n    let title = ref(\"Saler\");\r\n\r\n    const logout = () => {\r\n      window.localStorage.setItem('JWT_Saler_Token', '');\r\n      store.commit('setSalerIsLogin', false);\r\n\r\n      getSalerById_forSaler(store.state.saler.id).then(res=>{\r\n        let form = {\r\n          state: \"登出\",\r\n          role: \"销售员\",\r\n          name: \"\"\r\n        }\r\n        form.name = res.data.name\r\n        insertLogRecord(form).then(res=>{\r\n          console.log(form);\r\n        })\r\n      })\r\n\r\n      store.commit('setSalerId', \"\");\r\n      router.push({path:'/salerlogin'})\r\n    }\r\n\r\n    // getSalerById_forSaler(store.state.saler.id).then(res=>{\r\n    //   title.value = res.data.name\r\n    // })\r\n\r\n    return {\r\n      drawer,\r\n      mainpage,\r\n      router,\r\n      logout,\r\n      title,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}